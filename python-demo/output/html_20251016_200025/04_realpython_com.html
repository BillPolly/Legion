

<!doctype html>
<html lang="en">
  <head>
    
    
    <link href="https://files.realpython.com" rel="preconnect">

    <title>Python&#x27;s asyncio: A Hands-On Walkthrough – Real Python</title>
    <meta name="author" content="Real Python">
    <meta name="description" content="Explore how Python asyncio works and when to use it. Follow hands-on examples to build efficient programs with coroutines and awaitable tasks.">
    <meta name="keywords" content="">

    
  


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">

    
      <link rel="stylesheet" href="/static/realpython.min.092bc51aeda9.css">
      
      <link rel="stylesheet" href="/static/gfonts/font.5ac42994de49.css">
      <link rel="preload" href="/static/glightbox.min.9b438b29cef1.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/static/glightbox.min.9b438b29cef1.css"></noscript>
      
    

    
  
  <link rel="preload" as="image" href="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg" imagesrcset="/cdn-cgi/image/width=480,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 480w, /cdn-cgi/image/width=640,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 640w, /cdn-cgi/image/width=960,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 960w, /cdn-cgi/image/width=1920,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 1920w" imagesizes="(min-width: 1200px) 690px, (min-width: 780px) calc(-5vw + 669px), (min-width: 580px) 510px, calc(100vw - 30px)">


    
    
      <link rel="canonical" href="https://realpython.com/async-io-python/">

      
      
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg">
        <meta property="og:image" content="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg">
        <meta name="robots" content="max-image-preview:large">
      
      <meta name="twitter:creator" content="@realpython">
      <meta name="twitter:site" content="@realpython">
      <meta property="og:title" content="Python&#x27;s asyncio: A Hands-On Walkthrough – Real Python">
      <meta property="og:type" content="article">
      <meta property="og:url" content="https://realpython.com/async-io-python/">
      <meta property="og:description" content="Explore how Python asyncio works and when to use it. Follow hands-on examples to build efficient programs with coroutines and awaitable tasks.">
    

    <link href="/static/favicon.68cbf4197b0c.png" rel="icon">
    <link href="https://realpython.com/atom.xml" rel="alternate" title="Real Python" type="application/atom+xml">
    <link rel="manifest" href="/manifest.json">

    

    
    

    
    <script id="icons-data" type="application/json">{"iconsUrl": "/static/icons.c6ded8df2bdc.svg"}</script>
    <script id="optins-data" type="application/json">{"turnstileSiteKey": "0x4AAAAAAAQQUCLRXBi8NnUh"}</script>

    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L7L6L5F6Y6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-L7L6L5F6Y6',{'content_group': 'article'});

  gtag('get', 'G-L7L6L5F6Y6', 'client_id', (clid) => {
    document.cookie = 'gaclid=' + clid + ';max-age=86400000;path=/;secure';
  });
  
</script>

  </head>
  <body data-authenticated="false">
    
      

<nav class="navbar fixed-top navbar-expand-lg navbar-dark flex-column  user-select-none">
  <div class="container flex-row">

    <a class="navbar-brand" href="/">
      <img src="/static/real-python-logo.893c30edea53.svg" width="165" height="40" class="d-inline-block align-top" alt="Real Python">
    </a>

    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse navbar-nav-scroll" id="navbarSupportedContent" role="navigation" aria-label="Main Navigation">

      <ul class="navbar-nav mr-2">

        <li class="nav-item">
          <a class="nav-link rounded" href="/start-here/">Start&nbsp;Here</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link rounded dropdown-toggle" href="#" id="navbarDropdownLibrary" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--python"/></svg></span> Learn Python
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownLibrary">
            
<a class="dropdown-item " href="/search?kind=article&kind=course&order=newest" style="color: #ff7e73; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--graduation-cap"/></svg></span>Python Tutorials&nbsp;→<br><small class="text-secondary">In-depth articles and video courses</small></a>


            
<a class="dropdown-item " href="/learning-paths/" style="color: #ffc873; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@learning-path"/></svg></span>Learning Paths&nbsp;→<br><small class="text-secondary">Guided study plans for accelerated learning</small></a>


            
<a class="dropdown-item " href="/quizzes/" style="color: #abe0e5; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@quiz"/></svg></span>Quizzes & Exercises&nbsp;→<br><small class="text-secondary">Check your learning progress</small></a>


            
<a class="dropdown-item " href="/tutorials/all/" style="color: #ccc; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@category"/></svg></span>Browse Topics&nbsp;→<br><small class="text-secondary">Focus on a specific area or skill level</small></a>


            
<a class="dropdown-item " href="/community/" style="color: #e5c6ab; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--message-smile"/></svg></span>Community Chat&nbsp;→<br><small class="text-secondary">Learn with other Pythonistas</small></a>


            
<a class="dropdown-item " href="/office-hours/" style="color: #e5c6ab; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--users"/></svg></span>Office Hours&nbsp;→<br><small class="text-secondary">Live Q&A calls with Python experts</small></a>


            
<a class="dropdown-item " href="/podcasts/rpp/" style="color: #b8abe5; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@podcast"/></svg></span>Podcast&nbsp;→<br><small class="text-secondary">Hear what’s new in the world of Python</small></a>


            
<a class="dropdown-item " href="/products/books/" style="color: #abe5b1; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--book-heart"/></svg></span>Books&nbsp;→<br><small class="text-secondary">Round out your knowledge and learn offline</small></a>


            
<a class="dropdown-item " href="/ref/" style="color: #abe0e5; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@reference"/></svg></span>Reference&nbsp;→<br><small class="text-secondary">Concise definitions for common Python terms</small></a>


            
<a class="dropdown-item " href="/mentor/" style="color: #ffc873; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@code-mentor"/></svg></span>Code Mentor&nbsp;→<span class="float-right badge badge-pill badge-indigo">Beta</span><br><small class="text-secondary">Personalized code assistance &amp; learning tools</small></a>


            
              
              
<a class="dropdown-item border-top" href="/account/join/" style="color: #ffc107; line-height: 110%;"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--star"/></svg></span>Unlock All Content&nbsp;→</a>

              
            
          </div>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link rounded dropdown-toggle" href="#" id="navbarDropdownMore" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            More
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMore">
            <a class="dropdown-item" href="/learner-stories/">Learner Stories</a>
            <a class="dropdown-item" href="/newsletter/">Python Newsletter</a>
            <a class="dropdown-item" href="https://www.pythonjobshq.com" target="_blank">Python Job Board</a>
            <a class="dropdown-item" href="/team/">Meet the Team</a>
            <a class="dropdown-item" href="/write-for-us/">Become a Tutorial Writer</a>
            <a class="dropdown-item" href="/become-an-instructor/">Become a Video Instructor</a>
          </div>
        </li>

      </ul> 

      
      <div class="d-block d-lg-none"> 
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link rounded" href="/search" title="Search"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#v4--search"/></svg></span> Search</a>
          </li>
        </ul>
      </div>
      
      <div class="d-none d-lg-flex align-items-center mr-2 flex-fill">
        <form class="form-inline w-100 position-relative" action="/search" method="GET">
          <a class="js-search-form-submit position-absolute" href="/search" title="Search" aria-hidden="true" tabindex="-1"><span class="icon baseline text-muted pl-2" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#v4--search"/></svg></span></a>
          <input class="search-autocomplete search-field form-control form-control-md mr-sm-1 mr-lg-2 w-100" style="padding-left: 2rem;" maxlength=50 type="search" placeholder="Search" aria-label="Search" aria-keyshortcuts="/ Control+J Meta+J" name="q" autocomplete="off">
          <span class="search-hotkey-indicator position-absolute px-2 border border-input text-input rounded small user-select-none" style="right: 1em;" title="Press / (forward slash) or Ctrl+J to open search" aria-hidden="true">/</span>
          <input type="hidden" name="_from" value="nav">
        </form>
      </div>
      

      <ul class="navbar-nav ml-auto">
        
          <li class="nav-item form-inline mr-2 my-2 ml-3 ml-lg-0">
            <a class="btn btn-primary px-5 px-lg-3" href="/account/join/">Join</a>
          </li>
        

        
          <li class="nav-item">
            <a class="nav-link rounded mx-0 px-lg-2" href="/account/login/?next=%2Fasync-io-python%2F">Sign&#8209;In</a>
          </li>
        
      </ul>

    
    </div>

  </div>

  

</nav>

    

    <div class="container main-content">
      

      
  <div class="row justify-content-center">

    
    <aside class="col-md-7 col-lg-4 order-2 d-none d-lg-block">
      
  




<div class="card mb-3 bg-secondary">
  <form class="card-body" action="/optins/process/" method="post">
    <div class="form-group">
      <p class="h5 text-muted text-center">— FREE Email Series —</p>
      <p class="h3 text-center">🐍 Python Tricks 💌</p>
      <p><img loading="lazy" class="img-fluid rounded" src="/static/pytrick-dict-merge.4201a0125a5e.png" width="738" height="490" alt="Python Tricks Dictionary Merge"></p>
    </div>
    <div class="form-group">
      <input type="hidden" name="csrfmiddlewaretoken" value="kW7wHCJEyR5NXZS6qU8cmoBueoCOU351060mzt3XeGvuIBAVRnmhhgvlnWaulyyt">
      <input type="hidden" name="slug" value="static-python-tricks-sidebar">
      <input type="email" class="form-control form-control-md" name="email" placeholder="Email&hellip;" required>
    </div>
    <button type="submit" name="submit" class="btn btn-primary btn-md btn-block">Get Python Tricks »</button>
    <p class="mb-0 mt-2 text-muted text-center">🔒 No spam. Unsubscribe any time.</p>
  </form>
</div>


  


<div class="sidebar-module sidebar-module-inset border">
  <a href="/tutorials/all/" class="badge badge-light text-muted"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@category"/></svg></span>Browse Topics</a>

  <a href="/learning-paths/" class="badge badge-light text-muted"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--map-location-dot"/></svg></span>Guided Learning Paths</a>

  <br>

  <a href="/search?level=basics" class="badge badge-light text-muted"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@level"/></svg></span> Basics</a>

  <a href="/search?level=intermediate" class="badge badge-light text-muted"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@level"/></svg></span><span class="icon baseline tight-left" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@level"/></svg></span> Intermediate</a>

  <a href="/search?level=advanced" class="badge badge-light text-muted"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@level"/></svg></span><span class="icon baseline tight-left" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@level"/></svg></span><span class="icon baseline tight-left" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@level"/></svg></span> Advanced</a>

  <hr class="my-2">

  
    
  
    
  
    
  
    
      
<a href="/tutorials/ai/" class="badge badge-light text-muted" data-previewable>ai</a>

    
  
    
      
<a href="/tutorials/api/" class="badge badge-light text-muted" data-previewable>api</a>

    
  
    
      
<a href="/tutorials/best-practices/" class="badge badge-light text-muted" data-previewable>best-practices</a>

    
  
    
      
<a href="/tutorials/career/" class="badge badge-light text-muted" data-previewable>career</a>

    
  
    
      
<a href="/tutorials/community/" class="badge badge-light text-muted" data-previewable>community</a>

    
  
    
      
<a href="/tutorials/databases/" class="badge badge-light text-muted" data-previewable>databases</a>

    
  
    
      
<a href="/tutorials/data-science/" class="badge badge-light text-muted" data-previewable>data-science</a>

    
  
    
      
<a href="/tutorials/data-structures/" class="badge badge-light text-muted" data-previewable>data-structures</a>

    
  
    
      
<a href="/tutorials/data-viz/" class="badge badge-light text-muted" data-previewable>data-viz</a>

    
  
    
      
<a href="/tutorials/devops/" class="badge badge-light text-muted" data-previewable>devops</a>

    
  
    
      
<a href="/tutorials/django/" class="badge badge-light text-muted" data-previewable>django</a>

    
  
    
      
<a href="/tutorials/docker/" class="badge badge-light text-muted" data-previewable>docker</a>

    
  
    
      
<a href="/tutorials/editors/" class="badge badge-light text-muted" data-previewable>editors</a>

    
  
    
      
<a href="/tutorials/flask/" class="badge badge-light text-muted" data-previewable>flask</a>

    
  
    
      
<a href="/tutorials/front-end/" class="badge badge-light text-muted" data-previewable>front-end</a>

    
  
    
      
<a href="/tutorials/gamedev/" class="badge badge-light text-muted" data-previewable>gamedev</a>

    
  
    
      
<a href="/tutorials/gui/" class="badge badge-light text-muted" data-previewable>gui</a>

    
  
    
      
<a href="/tutorials/machine-learning/" class="badge badge-light text-muted" data-previewable>machine-learning</a>

    
  
    
      
<a href="/tutorials/news/" class="badge badge-light text-muted" data-previewable>news</a>

    
  
    
      
<a href="/tutorials/numpy/" class="badge badge-light text-muted" data-previewable>numpy</a>

    
  
    
      
<a href="/tutorials/projects/" class="badge badge-light text-muted" data-previewable>projects</a>

    
  
    
      
<a href="/tutorials/python/" class="badge badge-light text-muted" data-previewable>python</a>

    
  
    
      
<a href="/tutorials/testing/" class="badge badge-light text-muted" data-previewable>testing</a>

    
  
    
      
<a href="/tutorials/tools/" class="badge badge-light text-muted" data-previewable>tools</a>

    
  
    
      
<a href="/tutorials/web-dev/" class="badge badge-light text-muted" data-previewable>web-dev</a>

    
  
    
      
<a href="/tutorials/web-scraping/" class="badge badge-light text-muted" data-previewable>web-scraping</a>

    
  
</div>



  
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
  
<div style="display:block;position:relative;">
  <div style="display:block;width:100%;padding-top:100%;"></div>
  <div class="rpad" data-unit="1x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>


</div>



  <div class="sidebar-sticky ">
    
      


<table-of-contents>
  <div class="bg-light sidebar-module sidebar-module-inset text-wrap-pretty">
    <p class="h4 text-muted"><a class="link-unstyled" href="#toc">Table of Contents</a></p>
    <div class="toc">
<ul>
<li><a href="#a-first-look-at-async-io">A First Look at Async I/O</a><ul>
<li><a href="#async-io-explained">Async I/O Explained</a></li>
<li><a href="#async-io-isnt-simple">Async I/O Isn&rsquo;t Simple</a></li>
</ul>
</li>
<li><a href="#async-io-in-python-with-asyncio">Async I/O in Python With asyncio</a><ul>
<li><a href="#coroutines-and-coroutine-functions">Coroutines and Coroutine Functions</a></li>
<li><a href="#the-async-and-await-keywords">The async and await Keywords</a></li>
<li><a href="#the-async-io-event-loop">The Async I/O Event Loop</a></li>
<li><a href="#the-asyncio-repl">The asyncio REPL</a></li>
</ul>
</li>
<li><a href="#common-async-io-programming-patterns">Common Async I/O Programming Patterns</a><ul>
<li><a href="#coroutine-chaining">Coroutine Chaining</a></li>
<li><a href="#coroutine-and-queue-integration">Coroutine and Queue Integration</a></li>
</ul>
</li>
<li><a href="#other-async-io-features-in-python">Other Async I/O Features in Python</a><ul>
<li><a href="#async-iterators-loops-and-comprehensions">Async Iterators, Loops, and Comprehensions</a></li>
<li><a href="#async-with-statements">Async with Statements</a></li>
<li><a href="#other-asyncio-tools">Other asyncio Tools</a></li>
<li><a href="#async-exception-handling">Async Exception Handling</a></li>
</ul>
</li>
<li><a href="#async-io-in-context">Async I/O in Context</a><ul>
<li><a href="#when-to-use-async-io">When to Use Async I/O</a></li>
<li><a href="#libraries-supporting-async-io">Libraries Supporting Async I/O</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</div>

  </div>
</table-of-contents>

    

    <div class="sidebar-module sidebar-module-inset d-flex justify-content-center flex-wrap row-gap-1 col-gap-2 my-3 py-0">
      


<completion-status
  class="btn-group mb-0"
  article-slug="async-io-python"
  
  
  
  data-api-article-bookmark-url="/api/v1/articles/async-io-python/bookmark/"
  data-api-article-completion-status-url="/api/v1/articles/async-io-python/completion_status/">
  <button
    data-target-complete-button
    title="Click to mark as completed"
    class="btn btn-secondary border-right"
    style="border-top-right-radius: 0; border-bottom-right-radius: 0;"
    disabled>Mark as Completed</button>
  <button
    data-target-bookmark-button
    title="Add bookmark"
    class="btn btn-secondary border-left"
    disabled><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--bookmark"/></svg></span></button>
</completion-status>

      <div class="w-100"></div> 
      



<div class="btn-group mb-0">
  <a class="btn btn-secondary border-right" style="border-top-right-radius: 0; border-bottom-right-radius: 0;" title="Liked it" role="button" aria-label="Liked it (thumbs up)" href="/feedback/survey/article/async-io-python/liked/?from=article-sidebar" target="_blank"><span class="icon" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--thumbs-up"/></svg></span></a> 
  <a class="btn btn-secondary border-left" role="button" aria-label="Disliked it (thumbs down)" title="Disliked it" href="/feedback/survey/article/async-io-python/disliked/?from=article-sidebar" target="_blank"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--thumbs-down"/></svg></span></a>
</div>

      
        









<share-button
  url="https://realpython.com/async-io-python/"
  url-title="Python&#x27;s asyncio: A Hands-On Walkthrough"
  twitter-text="Interesting #Python article by @realpython:"
  bluesky-text="Interesting #Python article by @realpython.com:"
  email-subject="Python article for you"
  email-body="Check out this Python article:%0A%0APython&#x27;s asyncio: A Hands-On Walkthrough"
>
  <button class="btn btn-secondary" type="button" title="Share" aria-label="Share"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@share-light"/></svg></span>Share</button>
</share-button>


      
    </div>

    
      <div class="sidebar-module sidebar-module-inset border card">
        <p><span class="badge badge-pill badge-success"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#v4--play-circle"/></svg></span> Recommended Video Course</span><br><a class="stretched-link text-success" href="/courses/python-3-concurrency-asyncio-module/">Hands-On Python 3 Concurrency With the asyncio Module</a></p>
      </div>
    

    
      <div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
        
<div style="display:block;position:relative;">
  <div style="display:block;width:100%;padding-top:25%;"></div>
  <div class="rpad" data-unit="4x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>


      </div>
    

    
  </div>


    </aside>

    <div class="col-md-11 col-lg-8 article with-headerlinks">
      

  
    <figure class="embed-responsive embed-responsive-16by9 rounded">
      
        <img fetchpriority="high" class="card-img-top m-0 p-0 embed-responsive-item" style="object-fit: contain; background: #ffc873;" alt="Async IO in Python: A Complete Walkthrough" width="1920" height="1080" src="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg" srcset="/cdn-cgi/image/width=480,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 480w, /cdn-cgi/image/width=640,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 640w, /cdn-cgi/image/width=960,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 960w, /cdn-cgi/image/width=1920,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 1920w" sizes="(min-width: 1200px) 690px, (min-width: 780px) calc(-5vw + 669px), (min-width: 580px) 510px, calc(100vw - 30px)">
      
    </figure>
  

  <h1>Python&#x27;s asyncio: A Hands-On Walkthrough</h1>
  <div class="mb-0">
    
      <span class="text-muted">by <a class="text-muted" href="#author">Leodanis Pozo Ramos</a>
    
    
      <span class="icon baseline ml-2"><svg role="img"><use href="/static/icons.c6ded8df2bdc.svg#@date"/></svg><span class="sr-only">Publication date</span></span> Jul 30, 2025
    
    
      <span class="icon baseline ml-2"><svg role="img"><use href="/static/icons.c6ded8df2bdc.svg#regular--book-open"/></svg><span class="sr-only">Reading time estimate</span></span> 38m
    
    
      <span class="icon baseline ml-2 mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--comments"/></svg></span><a class="text-muted" href="#reader-comments"><span class="disqus-comment-count" data-disqus-identifier="https://realpython.com/async-io-python/"></span></a>
    
    

    <span class="d-inline d-md-block"> 
      <span class="icon baseline ml-2 ml-md-0" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@category"/></svg></span>
      
        
<a href="/tutorials/advanced/" class="badge badge-light text-muted" data-previewable>advanced</a>

      
        
<a href="/tutorials/python/" class="badge badge-light text-muted" data-previewable>python</a>

      
    </span>

    <div class="d-flex justify-content-between gap-2 my-3">
      


<completion-status
  class="btn-group mb-0"
  article-slug="async-io-python"
  
  
  
  data-api-article-bookmark-url="/api/v1/articles/async-io-python/bookmark/"
  data-api-article-completion-status-url="/api/v1/articles/async-io-python/completion_status/">
  <button
    data-target-complete-button
    title="Click to mark as completed"
    class="btn btn-secondary border-right"
    style="border-top-right-radius: 0; border-bottom-right-radius: 0;"
    disabled>Mark as Completed</button>
  <button
    data-target-bookmark-button
    title="Add bookmark"
    class="btn btn-secondary border-left"
    disabled><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--bookmark"/></svg></span></button>
</completion-status>

      
        









<share-button
  url="https://realpython.com/async-io-python/"
  url-title="Python&#x27;s asyncio: A Hands-On Walkthrough"
  twitter-text="Interesting #Python article by @realpython:"
  bluesky-text="Interesting #Python article by @realpython.com:"
  email-subject="Python article for you"
  email-body="Check out this Python article:%0A%0APython&#x27;s asyncio: A Hands-On Walkthrough"
>
  <button class="btn btn-secondary" type="button" title="Share" aria-label="Share"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@share-light"/></svg></span>Share</button>
</share-button>


      
    </div>
  </div>

  

  <div class="article-body">
    
      <div class="bg-light sidebar-module sidebar-module-inset" id="toc">
        <p class="h3 mb-2 text-muted">Table of Contents</p>
        <div class="toc">
<ul>
<li><a href="#a-first-look-at-async-io">A First Look at Async I/O</a><ul>
<li><a href="#async-io-explained">Async I/O Explained</a></li>
<li><a href="#async-io-isnt-simple">Async I/O Isn&rsquo;t Simple</a></li>
</ul>
</li>
<li><a href="#async-io-in-python-with-asyncio">Async I/O in Python With asyncio</a><ul>
<li><a href="#coroutines-and-coroutine-functions">Coroutines and Coroutine Functions</a></li>
<li><a href="#the-async-and-await-keywords">The async and await Keywords</a></li>
<li><a href="#the-async-io-event-loop">The Async I/O Event Loop</a></li>
<li><a href="#the-asyncio-repl">The asyncio REPL</a></li>
</ul>
</li>
<li><a href="#common-async-io-programming-patterns">Common Async I/O Programming Patterns</a><ul>
<li><a href="#coroutine-chaining">Coroutine Chaining</a></li>
<li><a href="#coroutine-and-queue-integration">Coroutine and Queue Integration</a></li>
</ul>
</li>
<li><a href="#other-async-io-features-in-python">Other Async I/O Features in Python</a><ul>
<li><a href="#async-iterators-loops-and-comprehensions">Async Iterators, Loops, and Comprehensions</a></li>
<li><a href="#async-with-statements">Async with Statements</a></li>
<li><a href="#other-asyncio-tools">Other asyncio Tools</a></li>
<li><a href="#async-exception-handling">Async Exception Handling</a></li>
</ul>
</li>
<li><a href="#async-io-in-context">Async I/O in Context</a><ul>
<li><a href="#when-to-use-async-io">When to Use Async I/O</a></li>
<li><a href="#libraries-supporting-async-io">Libraries Supporting Async I/O</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</div>

      </div>
    

    
    <div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
      

<div style="display:block;position:relative;">
  <div style="display:block;width:100%;padding-top:12.5%;"></div>
  <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
<a class="small text-muted" href="/account/join/" rel="nofollow"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"/></svg></span>Remove ads</a>


    </div>
    

    
      
<div class="border rounded p-3 card mb-2 text-wrap-pretty">
  <p class="mb-0"><span class="badge badge-pill badge-success"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#v4--play-circle"/></svg></span> Watch Now</span> This tutorial has a related video course created by the Real Python team. Watch it together with the written tutorial to deepen your understanding: <a class="stretched-link text-success" href="/courses/python-3-concurrency-asyncio-module/"><strong>Hands-On Python 3 Concurrency With the asyncio Module</strong></a></p>
</div>

    

    <p>Python&rsquo;s <code>asyncio</code> library enables you to write concurrent code using the <code>async</code> and <code>await</code> keywords. The core building blocks of async I/O in Python are awaitable objects&mdash;most often coroutines&mdash;that an event loop schedules and executes asynchronously. This programming model lets you efficiently manage multiple I/O-bound tasks within a single thread of execution.</p>
<p>In this tutorial, you&rsquo;ll learn how Python <code>asyncio</code> works, how to define and run coroutines, and when to use asynchronous programming for better performance in applications that perform I/O-bound tasks.</p>
<p><strong>By the end of this tutorial, you&rsquo;ll understand that:</strong></p>
<ul>
<li>Python&rsquo;s <strong><code>asyncio</code></strong> provides a framework for writing single-threaded <strong>concurrent code</strong> using <strong>coroutines</strong>, <strong>event loops</strong>, and <strong>non-blocking I/O operations</strong>.</li>
<li>For I/O-bound tasks, async I/O <strong>can often outperform multithreading</strong>&mdash;especially when managing a large number of concurrent tasks&mdash;because it avoids the overhead of thread management.</li>
<li>You should use <code>asyncio</code> when your application spends significant time waiting on <strong>I/O operations</strong>, such as network requests or file access, and you want to <strong>run many of these tasks concurrently</strong> without creating extra threads or processes.</li>
</ul>
<p>Through hands-on examples, you&rsquo;ll gain the practical skills to write efficient Python code using <code>asyncio</code> that scales gracefully with increasing I/O demands.</p>
<div class="alert alert-warning" role="alert">
<p><strong markdown>Get Your Code:</strong> <a href="https://realpython.com/bonus/async-io-python-code/" class="alert-link" data-toggle="modal" data-target="#modal-async-io-python-code" markdown>Click here to download the free sample code</a> that you&rsquo;ll use to learn about async I/O in Python.</p>
</div>
<div class="container border rounded text-wrap-pretty my-3">

  <p class="my-3"><mark class="marker-highlight"><strong><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@quiz"/></svg></span> Take the Quiz:</strong></mark> Test your knowledge with our interactive “Python&#x27;s asyncio: A Hands-On Walkthrough” quiz. You’ll receive a score upon completion to help you track your learning progress:</p>

  <hr>

  <div class="row my-3">
    <div class="col-xs-12 col-sm-4 col-md-3 align-self-center">

      <a href="/quizzes/async-io-python/" tabindex="-1">
        <div class="embed-responsive embed-responsive-16by9">

            <img class="card-img-top m-0 p-0 embed-responsive-item rounded" style="object-fit: contain; background: #ffc873;" alt="Async IO in Python: A Complete Walkthrough" src="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg" width="1920" height="1080" srcset="/cdn-cgi/image/width=480,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 480w, /cdn-cgi/image/width=640,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 640w, /cdn-cgi/image/width=960,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 960w, /cdn-cgi/image/width=1920,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 1920w" sizes="(min-width: 1200px) 142px, (min-width: 1000px) 122px, (min-width: 780px) 112px, (min-width: 580px) 139px, calc(100vw - 62px)">


          <div class="card-img-overlay d-flex align-items-center">
            <div class="mx-auto">
              <span class="text-light" style="opacity: 0.90;"><span class="icon baseline scale2x" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@quiz"/></svg></span></span>
            </div>
          </div>
        </div>
      </a>

    </div>
    <div class="col">
      <div class="mt-3 d-md-none"></div> 
      <p class="small text-muted mb-0"><strong>Interactive Quiz</strong></p>
      <a href="/quizzes/async-io-python/" class="stretched-link"><span class="my-0 h4">Python&#x27;s asyncio: A Hands-On Walkthrough</span></a> 
      <p class="text-muted mb-0 small">Test your knowledge of `asyncio` concurrency with this quiz that covers coroutines, event loops, and efficient I/O-bound task management.</p>
    </div>
  </div>

</div>

<section class="section2"><h2 id="a-first-look-at-async-io">A First Look at Async I/O<a class="headerlink" href="#a-first-look-at-async-io" title="Permanent link"></a></h2>
<p>Before exploring <code>asyncio</code>, it&rsquo;s worth taking a moment to compare async I/O with other concurrency models to see how it fits into Python&rsquo;s broader, sometimes dizzying, landscape. Here are some essential concepts to start with:</p>
<ul>
<li><strong>Parallelism</strong> consists of executing multiple operations at the same time.</li>
<li><strong>Multiprocessing</strong> is a means of achieving parallelism that entails spreading tasks over a computer&rsquo;s central processing unit (CPU) cores. Multiprocessing is well-suited for CPU-bound tasks, such as tightly bound <a href="https://realpython.com/python-for-loop/"><code>for</code> loops</a> and mathematical computations.</li>
<li><strong>Concurrency</strong> is a slightly broader term than parallelism, suggesting that multiple tasks have the ability to run in an overlapping manner. Concurrency doesn&rsquo;t necessarily imply parallelism.</li>
<li><strong>Threading</strong> is a concurrent execution model in which multiple threads take turns executing tasks. A single process can contain multiple threads. Python&rsquo;s relationship with threading is complicated due to the <a href="https://realpython.com/python-gil/">global interpreter lock (GIL)</a>, but that&rsquo;s beyond the scope of this tutorial.</li>
</ul>
<p>Threading is good for <a href="/ref/glossary/io-bound-task/" class="ref-link"><strong>I/O-bound tasks</strong></a>. An I/O-bound job is dominated by a lot of waiting on <a href="/ref/glossary/input-output/" class="ref-link"><strong>input/output (I/O)</strong></a> to complete, while a <a href="/ref/glossary/cpu-bound-task/" class="ref-link">CPU-bound task</a> is characterized by the computer&rsquo;s cores continually working hard from start to finish.</p>
<p>The Python <a href="/ref/glossary/standard-library/" class="ref-link">standard library</a> has offered longstanding <a href="https://docs.python.org/3/library/concurrency.html">support for these models</a> through its <code>multiprocessing</code>, <code>concurrent.futures</code>, and <code>threading</code> packages.</p>
<p>Now it&rsquo;s time to add a new member to the mix. In recent years, a separate model has been more comprehensively built into <a href="https://realpython.com/cpython-source-code-guide/">CPython</a>: <strong>asynchronous I/O</strong>, commonly called <strong>async I/O</strong>. This model is enabled through the standard library&rsquo;s <a href="/ref/stdlib/asyncio/" class="ref-link"><strong><code>asyncio</code></strong></a> package and the <a href="https://realpython.com/python-keywords/#the-async-keyword"><code>async</code></a> and <a href="https://realpython.com/python-keywords/#the-await-keyword"><code>await</code></a> keywords.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Async I/O isn&rsquo;t a new concept. It exists in&mdash;or is being built into&mdash;other languages such as <a href="https://gobyexample.com/goroutines">Go</a>, <a href="https://docs.microsoft.com/en-us/dotnet/csharp/async">C#</a>, and <a href="https://doc.rust-lang.org/book/ch17-00-async-await.html">Rust</a>.</p>
</div>
<p>The <code>asyncio</code> package is billed by the Python documentation as a <a href="https://docs.python.org/3/library/asyncio.html">library to write concurrent code</a>. However, async I/O isn&rsquo;t threading or multiprocessing. It&rsquo;s not built on top of either of these.</p>
<p>Async I/O is a single-threaded, single-process technique that uses <a href="https://en.wikipedia.org/wiki/Cooperative_multitasking">cooperative multitasking</a>. Async I/O gives a feeling of concurrency despite using a single thread in a single process. <a href="/ref/glossary/coroutine/" class="ref-link">Coroutines</a>&mdash;or <strong>coro</strong> for short&mdash;are a central feature of async I/O and can be scheduled concurrently, but they&rsquo;re not inherently concurrent.</p>
<p>To reiterate, async I/O is a model of concurrent programming, but it&rsquo;s not parallelism. It&rsquo;s more closely aligned with threading than with multiprocessing, but it&rsquo;s different from both and is a standalone member of the concurrency ecosystem.</p>
<p>That leaves one more term. What does it mean for something to be <strong>asynchronous</strong>? This isn&rsquo;t a rigorous definition, but for the purposes of this tutorial, you can think of two key properties:</p>
<ol>
<li><strong>Asynchronous routines</strong> can <em>pause</em> their execution while waiting for a result and allow other routines to run in the meantime.</li>
<li><strong>Asynchronous code</strong> facilitates the concurrent execution of tasks by coordinating asynchronous routines.</li>
</ol>
<p>Here&rsquo;s a diagram that puts it all together. The white terms represent concepts, and the green terms represent the ways they&rsquo;re implemented:</p>
<figure class="js-lightbox"><a href="https://files.realpython.com/media/Screen_Shot_2018-10-17_at_3.18.44_PM.c02792872031.jpg" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-70" src="https://files.realpython.com/media/Screen_Shot_2018-10-17_at_3.18.44_PM.c02792872031.jpg" width="504" height="411" srcset="/cdn-cgi/image/width=126,format=auto/https://files.realpython.com/media/Screen_Shot_2018-10-17_at_3.18.44_PM.c02792872031.jpg 126w, /cdn-cgi/image/width=168,format=auto/https://files.realpython.com/media/Screen_Shot_2018-10-17_at_3.18.44_PM.c02792872031.jpg 168w, /cdn-cgi/image/width=252,format=auto/https://files.realpython.com/media/Screen_Shot_2018-10-17_at_3.18.44_PM.c02792872031.jpg 252w, /cdn-cgi/image/width=504,format=auto/https://files.realpython.com/media/Screen_Shot_2018-10-17_at_3.18.44_PM.c02792872031.jpg 504w" sizes="(min-width: 1200px) 690px, (min-width: 780px) calc(-5vw + 669px), (min-width: 580px) 510px, calc(100vw - 30px)" alt="Concurrency versus parallelism" data-asset="866"/></a><figcaption class="figure-caption text-center">Diagram Comparing Concurrency and Parallelism in Python (Threading, Async I/O, Multiprocessing)</figcaption></figure>

<p>For a thorough exploration of threading versus multiprocessing versus async I/O, pause here and check out the <a href="https://realpython.com/python-concurrency/">Speed Up Your Python Program With Concurrency</a> tutorial. For now, you&rsquo;ll focus on async I/O.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div><section class="section3"><h3 id="async-io-explained">Async I/O Explained<a class="headerlink" href="#async-io-explained" title="Permanent link"></a></h3>
<p>Async I/O may seem counterintuitive and paradoxical at first. How does something that facilitates concurrent code use a single thread in a single CPU core? Miguel Grinberg&rsquo;s <a href="https://realpython.com/pycon-guide/">PyCon</a> talk explains everything quite beautifully:</p>
<blockquote>
<p>Chess master Judit Polgár hosts a chess exhibition in which she plays multiple amateur players. She has two ways of conducting the exhibition: <em>synchronously</em> and <em>asynchronously</em>.</p>
<p>Assumptions:</p>
<ul>
<li>24 opponents</li>
<li>Judit makes each chess move in 5 seconds</li>
<li>Opponents each take 55 seconds to make a move</li>
<li>Games average 30 pair-moves (60 moves total)</li>
</ul>
<p><strong>Synchronous version</strong>: Judit plays one game at a time, never two at the same time, until the game is complete. Each game takes <em>(55 + 5) * 30 == 1800</em> seconds, or 30 minutes. The entire exhibition takes <em>24 * 30 == 720</em> minutes, or <strong>12 hours</strong>.</p>
<p><strong>Asynchronous version</strong>: Judit moves from table to table, making one move at each table. She leaves the table and lets the opponent make their next move during the wait time. One move on all 24 games takes Judit <em>24 * 5 == 120</em> seconds, or 2 minutes. The entire exhibition is now cut down to <em>120 * 30 == 3600</em> seconds, or just <strong>1 hour</strong>. (<a href="https://youtu.be/iG6fr81xHKA?t=4m29s">Source</a>)</p>
</blockquote>
<p>There&rsquo;s only one Judit Polgár, who makes only one move at a time. Playing asynchronously cuts the exhibition time down from 12 hours to 1 hour. Async I/O applies this principle to programming. In async I/O, a program&rsquo;s event loop&mdash;more on that later&mdash;runs multiple tasks, allowing each to take turns running at the optimal time.</p>
<p>Async I/O takes long-running <a href="https://realpython.com/defining-your-own-python-function/">functions</a>&mdash;like a complete chess game in the example above&mdash;that would block a program&rsquo;s execution (Judit Polgár&rsquo;s time). It manages them in a way so other functions can run during that downtime. In the chess example, Judit Polgár plays with another participant while the previous ones make their moves.</p>
</section><section class="section3"><h3 id="async-io-isnt-simple">Async I/O Isn&rsquo;t Simple<a class="headerlink" href="#async-io-isnt-simple" title="Permanent link"></a></h3>
<p>Building durable multithreaded code can be challenging and prone to errors. Async I/O avoids some of the potential speed bumps you might encounter with a multithreaded design. However, that&rsquo;s not to say that <a href="/ref/glossary/asynchronous-programming/" class="ref-link">asynchronous programming</a> is a simple task in Python.</p>
<p>Be aware that async programming can get tricky when you venture a bit below the surface level. Python&rsquo;s async model is built around concepts such as callbacks, coroutines, events, transports, protocols, and <a href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future">futures</a>&mdash;even just the terminology can be intimidating.</p>
<p>That said, the ecosystem around async programming in Python has improved significantly. The <code>asyncio</code> package has matured and now provides a stable <a href="/ref/glossary/api/" class="ref-link">API</a>. Additionally, its documentation has received a considerable overhaul, and some high-quality resources on the subject have also emerged.</p>
</section></section><section class="section2"><h2 id="async-io-in-python-with-asyncio">Async I/O in Python With <code>asyncio</code><a class="headerlink" href="#async-io-in-python-with-asyncio" title="Permanent link"></a></h2>
<p>Now that you have some background on async I/O as a concurrency model, it&rsquo;s time to explore Python&rsquo;s implementation. Python&rsquo;s <code>asyncio</code> package and its two related keywords, <a href="https://realpython.com/python-keywords/#the-async-keyword"><code>async</code></a> and <a href="https://realpython.com/python-keywords/#the-await-keyword"><code>await</code></a>, serve different purposes but come together to help you declare, build, execute, and manage asynchronous code.</p>
<section class="section3"><h3 id="coroutines-and-coroutine-functions">Coroutines and Coroutine Functions<a class="headerlink" href="#coroutines-and-coroutine-functions" title="Permanent link"></a></h3>
<p>At the heart of async I/O is the concept of a <a href="/ref/glossary/coroutine/" class="ref-link"><strong>coroutine</strong></a>, which is an object that can suspend its execution and resume it later. In the meantime, it can pass the control to an event loop, which can execute another coroutine. Coroutine objects result from calling a <a href="/ref/glossary/coroutine-function/" class="ref-link"><strong>coroutine function</strong></a>, also known as an <strong>asynchronous function</strong>. You define one with the <code>async def</code> construct.</p>
<p>Before writing your first piece of asynchronous code, consider the following example that runs synchronously:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">countsync.py</code></span>
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">def</span><span class="w"> </span><span class="nf">count</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;One&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Two&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">count</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="n">main</span><span class="p">()</span>
    <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="vm">__file__</span><span class="si">}</span><span class="s2"> executed in </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="s2">0.2f</span><span class="si">}</span><span class="s2"> seconds.&quot;</span><span class="p">)</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>The <code>count()</code> function <a href="https://realpython.com/python-print/">prints</a> <code>One</code> and waits for a second, then prints <code>Two</code> and waits for another second. The loop in the <a href="https://realpython.com/python-main-function/"><code>main()</code></a> function executes <code>count()</code> three times. Below, in the <a href="https://realpython.com/if-name-main-python/"><code>if __name__ == "__main__"</code></a> condition, you take a snapshot of the current time at the beginning of the execution, call <code>main()</code>, compute the total time, and display it on the screen.</p>
<p>When you <a href="https://realpython.com/run-python-scripts/">run this script</a>, you&rsquo;ll get the following output:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="console" data-is-repl="true">
  <div class="codeblock__header codeblock--yellow">
    <span class="mr-2 noselect" aria-label="Language">Shell</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">$ </span>python<span class="w"> </span>countsync.py
<span class="go">One</span>
<span class="go">Two</span>
<span class="go">One</span>
<span class="go">Two</span>
<span class="go">One</span>
<span class="go">Two</span>
<span class="go">countsync.py executed in 6.03 seconds.</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>The script prints <code>One</code> and <code>Two</code> alternatively, taking a second between each printing operation. In total, it takes a bit more than six seconds to run.</p>
<p>If you update this script to use Python&rsquo;s async I/O model, then it would look something like the following:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">countasync.py</code></span>
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">count</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;One&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Two&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">count</span><span class="p">(),</span> <span class="n">count</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
    <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="vm">__file__</span><span class="si">}</span><span class="s2"> executed in </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="s2">0.2f</span><span class="si">}</span><span class="s2"> seconds.&quot;</span><span class="p">)</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>Now, you use the <code>async</code> keyword to turn <code>count()</code> into a coroutine function that prints <code>One</code>, waits for one second, then prints <code>Two</code>, and waits another second. You use the <code>await</code> keyword to <em>await</em> the execution of <code>asyncio.sleep()</code>. This gives the control back to the program&rsquo;s event loop, saying: <em>I will sleep for one second. Go ahead and run something else in the meantime.</em></p>
<p>The <code>main()</code> function is another coroutine function that uses <a href="#other-asyncio-tools"><code>asyncio.gather()</code></a> to run three instances of <code>count()</code> concurrently. You use the <code>asyncio.run()</code> function to launch the <a href="#the-async-io-event-loop">event loop</a> and execute <code>main()</code>.</p>
<p>Compare the performance of this version to that of the synchronous version:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="console" data-is-repl="true">
  <div class="codeblock__header codeblock--yellow">
    <span class="mr-2 noselect" aria-label="Language">Shell</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">$ </span>python<span class="w"> </span>countasync.py
<span class="go">One</span>
<span class="go">One</span>
<span class="go">One</span>
<span class="go">Two</span>
<span class="go">Two</span>
<span class="go">Two</span>
<span class="go">countasync.py executed in 2.00 seconds.</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>Thanks to the async I/O approach, the total execution time is just over two seconds instead of six, demonstrating the efficiency of <code>asyncio</code> for I/O-bound tasks.</p>
<p>While using <code>time.sleep()</code> and <code>asyncio.sleep()</code> may seem banal, they serve as stand-ins for time-intensive processes that involve wait time. A call to <code>time.sleep()</code> can represent a time-consuming blocking function call, while <code>asyncio.sleep()</code> is used to stand in for a <a href="/ref/glossary/non-blocking-operation/" class="ref-link">non-blocking call</a> that also takes some time to complete.</p>
<p>As you&rsquo;ll see in the next section, the benefit of awaiting something, including <code>asyncio.sleep()</code>, is that the surrounding function can temporarily cede control to another function that&rsquo;s more readily able to do something immediately. In contrast, <code>time.sleep()</code> or any other blocking call is incompatible with asynchronous Python code because it stops everything in its tracks for the duration of the sleep time.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div></section><section class="section3"><h3 id="the-async-and-await-keywords">The <code>async</code> and <code>await</code> Keywords<a class="headerlink" href="#the-async-and-await-keywords" title="Permanent link"></a></h3>
<p>At this point, a more formal definition of <code>async</code>, <code>await</code>, and the coroutine functions they help you create is in order:</p>
<ul>
<li>The <strong><code>async def</code></strong> syntax construct introduces either a <strong>coroutine function</strong> or an <a href="/ref/glossary/asynchronous-generator/" class="ref-link"><strong>asynchronous generator</strong></a>.</li>
<li>The <strong><code>async with</code></strong> and <strong><code>async for</code></strong> syntax constructs introduce asynchronous <strong><code>with</code> statements</strong> and <strong><code>for</code> loops</strong>, respectively.</li>
<li>The <strong><code>await</code></strong> keyword suspends the execution of the surrounding coroutine and passes control back to the event loop.</li>
</ul>
<p>To clarify the last point a bit, when Python encounters an <code>await f()</code> expression in the scope of a <code>g()</code> coroutine, <code>await</code> tells the event loop: <em>suspend the execution of <code>g()</code> until the result of <code>f()</code> is returned. In the meantime, let something else run.</em></p>
<p>In code, that last bullet point looks roughly like the following:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">g</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">f</span><span class="p">()</span>  <span class="c1"># Pause and come back to g() when f() returns</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>There&rsquo;s also a strict set of rules around when and how you can use <code>async</code> and <code>await</code>. These rules are helpful whether you&rsquo;re still picking up the syntax or already have exposure to using <code>async</code> and <code>await</code>:</p>
<ul>
<li>
<p>Using the <code>async def</code> construct, you can define a coroutine function. It may use <code>await</code>, <code>return</code>, or <code>yield</code>, but all of these are optional:</p>
<ul>
<li><code>await</code>, <code>return</code>, or both can be used in regular coroutine functions. To call a coroutine function, you must either <code>await</code> it to get its result or run it directly in an event loop.</li>
<li><code>yield</code> used in an <code>async def</code> function creates an asynchronous generator. To iterate over this generator, you can use an <a href="#async-iterators-loops-and-comprehensions"><code>async for</code> loop or a comprehension</a>.</li>
<li><code>async def</code> may not use <code>yield from</code>, which will raise a <a href="https://realpython.com/invalid-syntax-python/"><code>SyntaxError</code></a>.</li>
</ul>
</li>
<li>
<p>Using <code>await</code> outside of an <code>async def</code> function also raises a <code>SyntaxError</code>. You can only use <code>await</code> in the body of coroutines.</p>
</li>
</ul>
<p>Here are some terse examples that summarize these rules:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="k">await</span> <span class="n">z</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># Okay - `await` and `return` allowed in coroutines</span>
    <span class="k">return</span> <span class="n">y</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">yield</span> <span class="n">x</span>  <span class="c1"># Okay - this is an async generator</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">m</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">yield from</span> <span class="n">gen</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># No - SyntaxError</span>

<span class="k">def</span><span class="w"> </span><span class="nf">n</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="k">await</span> <span class="n">z</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># No - SyntaxError (no `async def` here)</span>
    <span class="k">return</span> <span class="n">y</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>Finally, when you use <code>await f()</code>, it&rsquo;s required that <code>f()</code> be an object that&rsquo;s <a href="/ref/glossary/awaitable/" class="ref-link"><strong>awaitable</strong></a>, which is either another coroutine or an object defining an <code>.__await__()</code> <a href="https://realpython.com/python-magic-methods/">special method</a> that returns an iterator. For most purposes, you should only need to worry about coroutines.</p>
<p>Here&rsquo;s a more elaborate example of how async I/O cuts down on wait time. Suppose you have a coroutine function called <code>make_random()</code> that keeps producing random integers in the range [0, 10] and returns when one of them exceeds a threshold. In the following example, you run this function asynchronously three times. To differentiate each call, you use colors:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">rand.py</code></span>
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="n">COLORS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[0m&quot;</span><span class="p">,</span>  <span class="c1"># End of color</span>
    <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[36m&quot;</span><span class="p">,</span>  <span class="c1"># Cyan</span>
    <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[91m&quot;</span><span class="p">,</span>  <span class="c1"># Red</span>
    <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[35m&quot;</span><span class="p">,</span>  <span class="c1"># Magenta</span>
<span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="n">makerandom</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
        <span class="n">makerandom</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
        <span class="n">makerandom</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
    <span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">makerandom</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">COLORS</span><span class="p">[</span><span class="n">delay</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">Initiated makerandom(</span><span class="si">{</span><span class="n">delay</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">number</span> <span class="o">:=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">&lt;=</span> <span class="n">threshold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">makerandom(</span><span class="si">{</span><span class="n">delay</span><span class="si">}</span><span class="s2">) == </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2"> too low; retrying.&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">---&gt; Finished: makerandom(</span><span class="si">{</span><span class="n">delay</span><span class="si">}</span><span class="s2">) == </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">COLORS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">number</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">444</span><span class="p">)</span>
    <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">,</span> <span class="n">r3</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;r1: </span><span class="si">{</span><span class="n">r1</span><span class="si">}</span><span class="s2">, r2: </span><span class="si">{</span><span class="n">r2</span><span class="si">}</span><span class="s2">, r3: </span><span class="si">{</span><span class="n">r3</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>The colorized output speaks louder than a thousand words. Here&rsquo;s how this script is carried out:</p>
<figure>
  <div class="embed-responsive embed-responsive-16by9 rounded mb-3 ">
    <iframe loading="lazy" class="embed-responsive-item" src="https://player.vimeo.com/video/1098499206?background=1" frameborder="0" allow="fullscreen" allowfullscreen></iframe>
  </div>

</figure>

<p>This program defines the <code>makerandom()</code> coroutine and runs it concurrently with three different inputs. Most programs will consist of small, modular coroutines and a wrapper function that serves to <a href="#coroutine-chaining">chain</a> each smaller coroutine. In <code>main()</code>, you gather the three tasks. The three calls to <code>makerandom()</code> are your <strong>pool of tasks</strong>.</p>
<p>While the random number generation in this example is a CPU-bound task, its impact is negligible. The <code>asyncio.sleep()</code> simulates an I/O-bound task and makes the point that only I/O-bound or non-blocking tasks benefit from the async I/O model.</p>
</section><section class="section3"><h3 id="the-async-io-event-loop">The Async I/O Event Loop<a class="headerlink" href="#the-async-io-event-loop" title="Permanent link"></a></h3>
<p>In asynchronous programming, an event loop is like an <a href="https://realpython.com/python-while-loop/#intentional-infinite-loops">infinite loop</a> that monitors coroutines, takes feedback on what&rsquo;s idle, and looks around for things that can be executed in the meantime. It&rsquo;s able to wake up an idle coroutine when whatever that coroutine is waiting for becomes available.</p>
<p>The recommended way to start an event loop in modern Python is to use <a href="https://docs.python.org/3/library/asyncio-runner.html#asyncio.run"><code>asyncio.run()</code></a>. This function is responsible for getting the event loop, running tasks until they complete, and closing the loop. You can&rsquo;t call this function when another async event loop is running in the same code.</p>
<p>You can also get an instance of the running loop with the <a href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.get_running_loop"><code>get_running_loop()</code></a> function:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>If you need to interact with the event loop within a Python program, the above pattern is a good way to do it. The <code>loop</code> object supports introspection with <code>.is_running()</code> and <code>.is_closed()</code>. It can be useful when you want to <a href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-example-lowlevel-helloworld">schedule a callback</a> by passing the loop as an argument, for example. Note that <code>get_running_loop()</code> raises a <a href="/ref/builtin-exceptions/runtimeerror/" class="ref-link"><code>RuntimeError</code></a> exception if there&rsquo;s no running event loop.</p>
<p>What&rsquo;s more important is understanding what goes on beneath the surface of the event loop. Here are a few points worth stressing:</p>
<ul>
<li>Coroutines don&rsquo;t do much on their own until they&rsquo;re tied to the event loop.</li>
<li>By default, an async event loop runs in a single thread and on a single CPU core. In most <code>asyncio</code> applications, there will be only one event loop, typically in the main thread. Running multiple event loops in different threads is technically possible, but not commonly needed or recommended.</li>
<li>Event loops are pluggable. You can write your own implementation and have it run tasks just like the event loops provided in <code>asyncio</code>.</li>
</ul>
<p>Regarding the first point, if you have a coroutine that awaits others, then calling it in isolation has little effect:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello...&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;World!&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">routine</span> <span class="o">=</span> <span class="n">main</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">routine</span>
<span class="go">&lt;coroutine object main at 0x1027a6150&gt;</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this example, calling <code>main()</code> directly returns a coroutine object that you can&rsquo;t use in isolation. You need to use <code>asyncio.run()</code> to schedule the <code>main()</code> coroutine for execution on the event loop:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">routine</span><span class="p">)</span>
<span class="go">Hello...</span>
<span class="go">World!</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>You typically wrap your <code>main()</code> coroutine in an <code>asyncio.run()</code> call. You can execute lower-level coroutines with <code>await</code>.</p>
<p>Finally, the fact that the event loop is <em>pluggable</em> means that you can use any working implementation of an event loop, and that&rsquo;s unrelated to your structure of coroutines. The <code>asyncio</code> package ships with two different <a href="https://docs.python.org/3/library/asyncio-eventloop.html#event-loop-implementations">event loop implementations</a>.</p>
<p>The default event loop implementation depends on your platform and Python version. For example, on Unix, the default is typically <a href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop"><code>SelectorEventLoop</code></a>, while Windows uses <a href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop"><code>ProactorEventLoop</code></a> for better subprocess and I/O support.</p>
<p>Third-party event loops are also available. For example, the <a href="https://github.com/MagicStack/uvloop">uvloop</a> package provides an alternative implementation that promises to be faster than the <code>asyncio</code> loops.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div></section><section class="section3"><h3 id="the-asyncio-repl">The <code>asyncio</code> REPL<a class="headerlink" href="#the-asyncio-repl" title="Permanent link"></a></h3>
<p>Starting with <a href="https://realpython.com/python38-new-features/">Python 3.8</a>, the <code>asyncio</code> module includes a specialized interactive shell known as the <a href="https://docs.python.org/3/library/asyncio.html#asyncio-cli">asyncio REPL</a>. This environment allows you to use <code>await</code> directly at the top level, without wrapping your code in a call to <code>asyncio.run()</code>. This tool facilitates experimenting, debugging, and learning about <code>asyncio</code> in Python.</p>
<p>To start the <a href="/ref/glossary/repl/" class="ref-link">REPL</a>, you can run the following command:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="console" data-is-repl="true">
  <div class="codeblock__header codeblock--yellow">
    <span class="mr-2 noselect" aria-label="Language">Shell</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>asyncio
<span class="go">asyncio REPL 3.13.3 (main, Jun 25 2025, 17:27:59) ... on darwin</span>
<span class="go">Use &quot;await&quot; directly instead of &quot;asyncio.run()&quot;.</span>
<span class="go">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span>
<span class="go">&gt;&gt;&gt; import asyncio</span>
<span class="go">&gt;&gt;&gt;</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>Once you get the <code>&gt;&gt;&gt;</code> prompt, you can start running asynchronous code there. Consider the example below, where you reuse the code from the previous section:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">Python 3.8+</code></span>
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello...&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;World!&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">main</span><span class="p">()</span>
</span><span class="go">Hello...</span>
<span class="go">World!</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>This example works the same as the one in the previous section. However, instead of running <code>main()</code> using <code>asyncio.run()</code>, you use <code>await</code> directly.</p>
</section></section><section class="section2"><h2 id="common-async-io-programming-patterns">Common Async I/O Programming Patterns<a class="headerlink" href="#common-async-io-programming-patterns" title="Permanent link"></a></h2>
<p>Async I/O has its own set of possible programming patterns that allow you to write better asynchronous code. In practice, you can <em>chain coroutines</em> or use a <a href="/ref/glossary/queue/" class="ref-link">queue</a> of coroutines. You&rsquo;ll learn how to use these two patterns in the following sections.</p>
<section class="section3"><h3 id="coroutine-chaining">Coroutine Chaining<a class="headerlink" href="#coroutine-chaining" title="Permanent link"></a></h3>
<p>A key feature of coroutines is that you can <em>chain</em> them together. Remember, a coroutine is awaitable, so another coroutine can await it using the <code>await</code> keyword. This makes it easier to break your program into smaller, manageable, and reusable coroutines.</p>
<p>The example below simulates a two-step process that fetches information about a user. The first step fetches the user information, and the second step fetches their published posts:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">chained.py</code></span>
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">user_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="o">*</span><span class="p">(</span><span class="n">get_user_with_posts</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">user_id</span> <span class="ow">in</span> <span class="n">user_ids</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Total time: </span><span class="si">{</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user_with_posts</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="n">fetch_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">fetch_posts</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
    <span class="n">delay</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User coro: fetching user by </span><span class="si">{</span><span class="n">user_id</span><span class="si">=}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
    <span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;User</span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User coro: fetched user with </span><span class="si">{</span><span class="n">user_id</span><span class="si">=}</span><span class="s2"> (done in </span><span class="si">{</span><span class="n">delay</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s).&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">user</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_posts</span><span class="p">(</span><span class="n">user</span><span class="p">):</span>
    <span class="n">delay</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Post coro: retrieving posts for </span><span class="si">{</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Post </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> by </span><span class="si">{</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Post coro: got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">posts</span><span class="p">)</span><span class="si">}</span><span class="s2"> posts by </span><span class="si">{</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot; (done in </span><span class="si">{</span><span class="n">delay</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s):&quot;</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">post</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">444</span><span class="p">)</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this example, you define two major coroutines: <code>fetch_user()</code> and <code>fetch_posts()</code>. Both simulate a network call with a random delay using <code>asyncio.sleep()</code>.</p>
<p>In the <code>fetch_user()</code> coroutine, you return a mock user <a href="https://realpython.com/python-dicts/">dictionary</a>. In <code>fetch_posts()</code>, you use that dictionary to return a list of mock posts attributed to the user at hand. Random delays simulate real-world asynchronous behavior like network latency.</p>
<p>The coroutine chaining happens in the <code>get_user_with_posts()</code>. This coroutine awaits <code>fetch_user()</code> and stores the result in the <code>user</code> <a href="https://realpython.com/python-variables/">variable</a>. Once the user information is available, it&rsquo;s passed to <code>fetch_posts()</code> to retrieve the posts asynchronously.</p>
<p>In <code>main()</code>, you use <code>asyncio.gather()</code> to run the chained coroutines by executing <code>get_user_with_posts()</code> as many times as the number of user IDs you have.</p>
<p>Here&rsquo;s the result of executing the script:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="console" data-is-repl="true">
  <div class="codeblock__header codeblock--yellow">
    <span class="mr-2 noselect" aria-label="Language">Shell</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">$ </span>python<span class="w"> </span>chained.py
<span class="go">User coro: fetching user by user_id=1...</span>
<span class="go">User coro: fetching user by user_id=2...</span>
<span class="go">User coro: fetching user by user_id=3...</span>
<span class="go">User coro: fetched user with user_id=2 (done in 0.5s).</span>
<span class="go">Post coro: retrieving posts for User2...</span>
<span class="go">User coro: fetched user with user_id=1 (done in 1.0s).</span>
<span class="go">Post coro: retrieving posts for User1...</span>
<span class="go">User coro: fetched user with user_id=3 (done in 1.2s).</span>
<span class="go">Post coro: retrieving posts for User3...</span>
<span class="go">Post coro: got 2 posts by User2 (done in 1.8s):</span>
<span class="go"> - Post 1 by User2</span>
<span class="go"> - Post 2 by User2</span>
<span class="go">Post coro: got 2 posts by User1 (done in 1.6s):</span>
<span class="go"> - Post 1 by User1</span>
<span class="go"> - Post 2 by User1</span>
<span class="go">Post coro: got 2 posts by User3 (done in 1.5s):</span>
<span class="go"> - Post 1 by User3</span>
<span class="go"> - Post 2 by User3</span>

<span class="go">==&gt; Total time: 2.68 seconds</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>If you sum up the time of all the operations, then this example would take around 7.6 seconds with a synchronous implementation. However, with the asynchronous implementation, it only takes 2.68 seconds.</p>
<p>The pattern, consisting of awaiting one coroutine and passing its result into the next, creates a <strong>coroutine chain</strong>, where each step depends on the previous one. This example mimics a common async workflow where you get one piece of information and use it to get related data.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div></section><section class="section3"><h3 id="coroutine-and-queue-integration">Coroutine and Queue Integration<a class="headerlink" href="#coroutine-and-queue-integration" title="Permanent link"></a></h3>
<p>The <code>asyncio</code> package provides a few <a href="https://realpython.com/queue-in-python/#using-asynchronous-queues">queue-like classes</a> that are designed to be similar to <a href="https://realpython.com/python-classes/">classes</a> in the <a href="https://docs.python.org/3/library/queue.html#module-queue"><code>queue</code></a> module. In the examples so far, you haven&rsquo;t needed a queue structure. In <code>chained.py</code>, each task is performed by a coroutine, which you chain with others to pass data from one to the next.</p>
<p>An alternative approach is to use <strong>producers</strong> that add items to a <a href="/ref/glossary/queue/" class="ref-link">queue</a>. Each producer may add multiple items to the queue at staggered, random, and unannounced times. Then, a group of <strong>consumers</strong> pulls items from the queue as they show up, greedily and without waiting for any other signal.</p>
<p>In this design, there&rsquo;s no chaining between producers and consumers. Consumers don&rsquo;t know the number of producers, and vice versa.</p>
<p>It takes an individual producer or consumer a variable amount of time to add and remove items from the queue. The queue serves as a throughput that can communicate with the producers and consumers without them talking to each other directly.</p>
<p>A queue-based version of <code>chained.py</code> is shown below:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="python" >
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">queued.py</code></span>
    <div class="noselect">
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
    <span class="n">user_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="n">producer</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">user_ids</span><span class="p">),</span>
        <span class="o">*</span><span class="p">(</span><span class="n">consumer</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">user_ids</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Total time: </span><span class="si">{</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">producer</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">user_ids</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Producer: fetching user by </span><span class="si">{</span><span class="n">user_id</span><span class="si">=}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;User</span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Producer: fetched user with </span><span class="si">{</span><span class="n">user_id</span><span class="si">=}</span><span class="s2"> (done in </span><span class="si">{</span><span class="n">delay</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s)&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">fetch_user</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span> <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="n">user_ids</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">user_ids</span><span class="p">)):</span>
        <span class="k">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Sentinels for consumers to terminate</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">consumer</span><span class="p">(</span><span class="n">queue</span><span class="p">):</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Consumer: retrieving posts for </span><span class="si">{</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
        <span class="n">posts</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Post </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> by </span><span class="si">{</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Consumer: got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">posts</span><span class="p">)</span><span class="si">}</span><span class="s2"> posts by </span><span class="si">{</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; (done in </span><span class="si">{</span><span class="n">delay</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s):&quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">post</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">444</span><span class="p">)</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this example, the <code>producer()</code> function asynchronously fetches mock user data. Each fetched user dictionary is placed into an <code>asyncio.Queue</code> object, which shares the data with consumers. After producing all user objects, the producer inserts a <a href="https://en.wikipedia.org/wiki/Sentinel_value">sentinel value</a>&mdash;also known as a <a href="https://realpython.com/queue-in-python/#killing-a-worker-with-the-poison-pill">poison pill</a> in this context&mdash;for each consumer to signal that no more data will be sent, allowing the consumers to shut down cleanly.</p>
<p>The <code>consumer()</code> function continuously reads from the queue. If it receives a user dictionary, it simulates fetching that user&rsquo;s posts, waits a random delay, and prints the results. If it gets the sentinel value, then it breaks the loop and exits.</p>
<p>This decoupling allows multiple consumers to process users concurrently, even while the producer is still generating users, and the queue ensures safe and ordered communication between producers and consumers.</p>
<p>The queue is the communication point between the producers and consumers, enabling a scalable and responsive system.</p>
<p>Here&rsquo;s how the code works in practice:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="console" data-is-repl="true">
  <div class="codeblock__header codeblock--yellow">
    <span class="mr-2 noselect" aria-label="Language">Shell</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">$ </span>python<span class="w"> </span>queued.py
<span class="go">Producer: fetching user by user_id=1...</span>
<span class="go">Producer: fetching user by user_id=2...</span>
<span class="go">Producer: fetching user by user_id=3...</span>
<span class="go">Producer: fetched user with user_id=2 (done in 0.5s)</span>
<span class="go">Consumer: retrieving posts for User2...</span>
<span class="go">Producer: fetched user with user_id=1 (done in 1.0s)</span>
<span class="go">Consumer: retrieving posts for User1...</span>
<span class="go">Producer: fetched user with user_id=3 (done in 1.2s)</span>
<span class="go">Consumer: retrieving posts for User3...</span>
<span class="go">Consumer: got 2 posts by User2 (done in 1.8s):</span>
<span class="go">  - Post 1 by User2</span>
<span class="go">  - Post 2 by User2</span>
<span class="go">Consumer: got 2 posts by User1 (done in 1.6s):</span>
<span class="go">  - Post 1 by User1</span>
<span class="go">  - Post 2 by User1</span>
<span class="go">Consumer: got 2 posts by User3 (done in 1.5s):</span>
<span class="go">  - Post 1 by User3</span>
<span class="go">  - Post 2 by User3</span>

<span class="go">==&gt; Total time: 2.68 seconds</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>Again, the code runs in only 2.68 seconds, which is more efficient than a synchronous solution. The result is pretty much the same as when you used chained coroutines in the previous section.</p>
</section></section><section class="section2"><h2 id="other-async-io-features-in-python">Other Async I/O Features in Python<a class="headerlink" href="#other-async-io-features-in-python" title="Permanent link"></a></h2>
<p>Python&rsquo;s async I/O features extend beyond the <code>async def</code> and <code>await</code> constructs. They include other advanced tools that make asynchronous programming more expressive and consistent with regular Python constructs.</p>
<p>In the following sections, you&rsquo;ll explore powerful async features, including async loops and comprehensions, the <code>async with</code> statement, and exception groups. These features will help you write cleaner, more readable asynchronous code.</p>
<section class="section3"><h3 id="async-iterators-loops-and-comprehensions">Async Iterators, Loops, and Comprehensions<a class="headerlink" href="#async-iterators-loops-and-comprehensions" title="Permanent link"></a></h3>
<p>Apart from using <code>async</code> and <code>await</code> to create coroutines, Python also provides the <code>async for</code> construct to iterate over an <a href="/ref/glossary/asynchronous-iterator/" class="ref-link"><strong>asynchronous iterator</strong></a>. An asynchronous iterator allows you to iterate over asynchronously generated data. While the loop runs, it gives control back to the event loop so that other async tasks can run.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> To learn more about async iterators, check out the <a href="https://realpython.com/python-async-iterators/">Asynchronous Iterators and Iterables in Python</a> tutorial.</p>
</div>
<p>A natural extension of this concept is an <a href="/ref/glossary/asynchronous-generator/" class="ref-link"><strong>asynchronous generator</strong></a>. Here&rsquo;s an example that generates powers of two and uses them in a loop and comprehension:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">powers_of_two</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">exponent</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="k">while</span> <span class="n">exponent</span> <span class="o">&lt;</span> <span class="n">stop</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="mi">2</span><span class="o">**</span><span class="n">exponent</span>
<span class="gp">... </span>        <span class="n">exponent</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>  <span class="c1"># Simulate some asynchronous work</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">g</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>    <span class="k">async</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">powers_of_two</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">f</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span> <span class="k">async</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">powers_of_two</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">j</span> <span class="o">//</span> <span class="mi">3</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="go">[1, 2, 4, 8, 16]</span>
<span class="go">[1, 2, 16]</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>There&rsquo;s a crucial distinction between synchronous and asynchronous generators, loops, and comprehensions. Their asynchronous counterparts don&rsquo;t inherently make iteration concurrent. Instead, they allow the event loop to run other tasks between iterations when you explicitly yield control by using <code>await</code>. The iteration itself is still sequential unless you introduce concurrency by using <code>asyncio.gather()</code>.</p>
<p>Using <code>async for</code> and <code>async with</code> is only required when working with asynchronous iterators or context managers, where a regular <code>for</code> or <code>with</code> would raise errors.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div></section><section class="section3"><h3 id="async-with-statements">Async <code>with</code> Statements<a class="headerlink" href="#async-with-statements" title="Permanent link"></a></h3>
<p>The <a href="https://realpython.com/python-with-statement/"><code>with</code> statement</a> also has an <a href="/ref/glossary/asynchronous-programming/" class="ref-link">asynchronous</a> version, <code>async with</code>. This construct is quite common in async code, as many <a href="/ref/glossary/io-bound-task/" class="ref-link">I/O-bound tasks</a> involve setup and teardown phases.</p>
<p>For example, say you need to write a coroutine to check whether some websites are online. To do that, you can use <a href="https://docs.aiohttp.org/en/stable/index.html"><code>aiohttp</code></a>, which is a third-party library that you need to install by running <code>python -m pip install aiohttp</code> on your command line.</p>
<p>Here&rsquo;s a quick example that implements the required functionality:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">aiohttp</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">check</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
<span class="hll"><span class="gp">... </span>    <span class="k">async</span> <span class="k">with</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
</span><span class="hll"><span class="gp">... </span>        <span class="k">async</span> <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
</span><span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">: status -&gt; </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">websites</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>        <span class="s2">&quot;https://realpython.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;https://pycoders.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;https://www.python.org&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">check</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">websites</span><span class="p">))</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="go">https://www.python.org: status -&gt; 200</span>
<span class="go">https://pycoders.com: status -&gt; 200</span>
<span class="go">https://realpython.com: status -&gt; 200</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this example, you use <code>aiohttp</code> and <code>asyncio</code> to perform concurrent <a href="https://realpython.com/api-integration-in-python/#get">HTTP GET</a> requests to a list of websites. The <code>check()</code> coroutine fetches and prints the website&rsquo;s status. The <code>async with</code> statement ensures that both <code>ClientSession</code> and the individual HTTP response are properly and asynchronously managed by opening and closing them without blocking the event loop.</p>
<p>In this example, using <code>async with</code> guarantees that the underlying network resources, including connections and sockets, are correctly released, even if an error occurs.</p>
<p>Finally, <code>main()</code> runs the <code>check()</code> coroutines concurrently, allowing you to fetch the URLs in parallel without waiting for one to finish before starting the next.</p>
</section><section class="section3"><h3 id="other-asyncio-tools">Other <code>asyncio</code> Tools<a class="headerlink" href="#other-asyncio-tools" title="Permanent link"></a></h3>
<p>In addition to <code>asyncio.run()</code>, you&rsquo;ve used a few other package-level functions, such as <code>asyncio.gather()</code> and <code>asyncio.get_event_loop()</code>. You can use <a href="https://docs.python.org/3/library/asyncio-task.html#asyncio.create_task"><code>asyncio.create_task()</code></a> to schedule the execution of a coroutine object, followed by the usual call to the <code>asyncio.run()</code> function:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">coro</span><span class="p">(</span><span class="n">numbers</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">numbers</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">numbers</span><span class="p">))</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">task</span><span class="p">)</span><span class="w"> </span><span class="si">= }</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">done</span><span class="p">()</span><span class="w"> </span><span class="si">= }</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="k">await</span> <span class="n">task</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="go">type(task) = &lt;class &#39;_asyncio.Task&#39;&gt;</span>
<span class="go">task.done() = False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">result: [1, 2, 3]</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>This pattern includes a subtle detail you need to be aware of: if you create tasks with <code>create_task()</code> but don&rsquo;t await them or wrap them in <code>gather()</code>, and your <code>main()</code> coroutine finishes, then those manually created tasks will be canceled when the event loop ends. You must await all tasks you want to complete.</p>
<p>The <code>create_task()</code> function wraps an awaitable object into a higher-level <a href="https://docs.python.org/3/library/asyncio-task.html#asyncio.Task"><code>Task</code></a> object that&rsquo;s scheduled to run concurrently on the event loop in the background. In contrast, awaiting a coroutine runs it immediately, pausing the execution of the caller until the awaited coroutine finishes.</p>
<p>The <code>gather()</code> function is meant to neatly put a collection of coroutines into a single <strong>future object</strong>. This object represents a placeholder for a result that&rsquo;s initially unknown but will be available at some point, typically as the result of asynchronous computations.</p>
<p>If you await <code>gather()</code> and specify multiple tasks or coroutines, then the loop will wait for all the tasks to complete. The result of <code>gather()</code> will be a list of the results across the inputs:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">task1</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="n">task2</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start:&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="hll"><span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">task1</span><span class="p">,</span> <span class="n">task2</span><span class="p">)</span>
</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End:&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Both tasks done: </span><span class="si">{</span><span class="nb">all</span><span class="p">((</span><span class="n">task1</span><span class="o">.</span><span class="n">done</span><span class="p">(),</span><span class="w"> </span><span class="n">task2</span><span class="o">.</span><span class="n">done</span><span class="p">()))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">result</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="go">Start: 14:38:49</span>
<span class="go">End: 14:38:51</span>
<span class="go">Both tasks done: True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">result: [[2, 5, 10], [1, 2, 3]]</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>You probably noticed that <code>gather()</code> waits for the entire result of the whole set of coroutines that you pass it. The order of results from <code>gather()</code> is deterministic and corresponds to the order of awaitables originally passed to it.</p>
<p>Alternatively, you can loop over <code>asyncio.as_completed()</code> to get tasks as they complete. The function returns a synchronous iterator that yields tasks as they finish. Below, the result of <code>coro([3, 2, 1])</code> will be available before <code>coro([10, 5, 2])</code> is complete, which wasn&rsquo;t the case with the <code>gather()</code> function:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">task1</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="n">task2</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start:&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="hll"><span class="gp">... </span>    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">as_completed</span><span class="p">([</span><span class="n">task1</span><span class="p">,</span> <span class="n">task2</span><span class="p">]):</span>
</span><span class="gp">... </span>        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">task</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1"> completed at </span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End:&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Both tasks done: </span><span class="si">{</span><span class="nb">all</span><span class="p">((</span><span class="n">task1</span><span class="o">.</span><span class="n">done</span><span class="p">(),</span><span class="w"> </span><span class="n">task2</span><span class="o">.</span><span class="n">done</span><span class="p">()))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="go">Start: 14:36:36</span>
<span class="go">result: [1, 2, 3] completed at 14:36:37</span>
<span class="go">result: [2, 5, 10] completed at 14:36:38</span>
<span class="go">End: 14:36:38</span>
<span class="go">Both tasks done: True</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this example, the <code>main()</code> function uses <code>asyncio.as_completed()</code>, which yields tasks in the order they complete, not in the order they were started. As the program loops through the tasks, it awaits them, allowing the results to be available immediately upon completion.</p>
<p>As a result, the faster task (<code>task1</code>) finishes first and its result is printed earlier, while the longer task (<code>task2</code>) completes and prints afterward. The <code>as_completed()</code> function is useful when you need to handle tasks dynamically as they finish, which improves responsiveness in concurrent workflows.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div></section><section class="section3"><h3 id="async-exception-handling">Async Exception Handling<a class="headerlink" href="#async-exception-handling" title="Permanent link"></a></h3>
<p>Starting with <a href="https://realpython.com/python311-new-features/">Python 3.11</a>, you can use the <a href="https://realpython.com/python311-exception-groups/"><code>ExceptionGroup</code></a> class to handle multiple unrelated exceptions that may occur concurrently. This is especially useful when running multiple coroutines that can raise different exceptions. Additionally, the new <code>except*</code> syntax helps you gracefully deal with several errors at once.</p>
<p>Here&rsquo;s a quick demo of how to use this class in asynchronous code:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">Python 3.11+</code></span>
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">coro_a</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Error in coro A&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">coro_b</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Error in coro B&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">coro_c</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;Error in coro C&quot;</span><span class="p">)</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">coro_a</span><span class="p">(),</span>
<span class="gp">... </span>        <span class="n">coro_b</span><span class="p">(),</span>
<span class="gp">... </span>        <span class="n">coro_c</span><span class="p">(),</span>
<span class="hll"><span class="gp">... </span>        <span class="n">return_exceptions</span><span class="o">=</span><span class="kc">True</span>
</span><span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>    <span class="n">exceptions</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">results</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">)]</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">exceptions</span><span class="p">:</span>
<span class="hll"><span class="gp">... </span>        <span class="k">raise</span> <span class="n">ExceptionGroup</span><span class="p">(</span><span class="s2">&quot;Errors&quot;</span><span class="p">,</span> <span class="n">exceptions</span><span class="p">)</span>
</span><span class="gp">...</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this example, you have three coroutines that raise three different types of <a href="https://realpython.com/python-built-in-exceptions/">exceptions</a>. In the <code>main()</code> function, you call <code>gather()</code> with the coroutines as arguments. You also set the <code>return_exceptions</code> argument to <code>True</code> so that you can grab the exceptions if they occur.</p>
<p>Next, you use a list comprehension to store the exceptions in a new list. If the list contains at least one exception, then you create an <code>ExceptionGroup</code> for them.</p>
<p>To handle this exception group, you can use the following code:</p>
<code-block class="mb-3" aria-label="Code block" data-syntax-language="pycon" data-is-repl="true">
  <div class="codeblock__header codeblock--blue">
    <span class="mr-2 noselect" aria-label="Language">Python</span>
    <span class="mr-2" aria-label="Filename"><code style="color: inherit; background: inherit;">Python 3.11+</code></span>
    <div class="noselect">
      
        <span class="codeblock__output-toggle" title="Toggle prompts and output" role="button"><span class="icon baseline js-codeblock-output-on codeblock__header--icon-lower" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#regular--rectangle-terminal"/></svg></span></span>
      
    </div>
  </div>
  <div class="codeblock__contents">
    <div class="highlight highlight--with-header"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="hll"><span class="gp">... </span><span class="k">except</span><span class="o">*</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ve_group</span><span class="p">:</span>
</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ValueError handled] </span><span class="si">{</span><span class="n">ve_group</span><span class="o">.</span><span class="n">exceptions</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="hll"><span class="gp">... </span><span class="k">except</span><span class="o">*</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">te_group</span><span class="p">:</span>
</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[TypeError handled] </span><span class="si">{</span><span class="n">te_group</span><span class="o">.</span><span class="n">exceptions</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="hll"><span class="gp">... </span><span class="k">except</span><span class="o">*</span> <span class="ne">IndexError</span> <span class="k">as</span> <span class="n">ie_group</span><span class="p">:</span>
</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[IndexError handled] </span><span class="si">{</span><span class="n">ie_group</span><span class="o">.</span><span class="n">exceptions</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">[ValueError handled] (ValueError(&#39;Error in coro A&#39;),)</span>
<span class="go">[TypeError handled] (TypeError(&#39;Error in coro B&#39;),)</span>
<span class="go">[IndexError handled] (IndexError(&#39;Error in coro C&#39;),)</span>
</code></pre></div>
    
    <button class="codeblock__copy btn btn-outline-secondary border m-1 px-1 d-hover-only" title="Copy to clipboard"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@copy"/></svg></span></button>
    
  </div>
</code-block>
<p>In this code, you wrap the call to <code>asyncio.run()</code> in a <a href="/ref/keywords/try/" class="ref-link"><code>try</code></a> block. Then, you use the <code>except*</code> syntax to catch the expected exception separately. In each case, you print an error message to the screen.</p>
</section></section><section class="section2"><h2 id="async-io-in-context">Async I/O in Context<a class="headerlink" href="#async-io-in-context" title="Permanent link"></a></h2>
<p>Now that you&rsquo;ve seen a healthy dose of asynchronous code, take a moment to step back and consider when async I/O is the ideal choice&mdash;and how to evaluate whether it&rsquo;s the right fit or if another concurrency model might be better.</p>
<section class="section3"><h3 id="when-to-use-async-io">When to Use Async I/O<a class="headerlink" href="#when-to-use-async-io" title="Permanent link"></a></h3>
<p>Using <code>async def</code> for functions that perform blocking operations&mdash;such as standard file I/O or synchronous network requests&mdash;will block the entire event loop, negate the benefits of async I/O, and potentially reduce your program&rsquo;s efficiency. Only use <code>async def</code> functions for <a href="/ref/glossary/non-blocking-operation/" class="ref-link">non-blocking operations</a>.</p>
<p>The battle between async I/O and multiprocessing isn&rsquo;t a real battle. You can use both models <a href="https://youtu.be/0kXaLh8Fz3k?t=10m30s">in concert</a> if you want. In practice, multiprocessing should be the right choice if you have multiple CPU-bound tasks.</p>
<p>The contest between async I/O and threading is more direct. Threading isn&rsquo;t simple, and even in cases where threading seems easy to implement, it can still lead to hard-to-trace bugs due to <a href="https://realpython.com/python-thread-lock/#race-conditions">race conditions</a> and memory usage, among other things.</p>
<p>Threading also tends to scale less elegantly than async I/O because threads are a system resource with a finite availability. Creating thousands of threads will fail on many machines or can slow down your code. In contrast, creating thousands of async I/O tasks is completely feasible.</p>
<p>Async I/O shines when you have multiple I/O-bound tasks that would otherwise be dominated by blocking wait time, such as:</p>
<ul>
<li><strong>Network I/O</strong>, whether your program is acting as the server or the client</li>
<li><strong>Serverless designs</strong>, such as a peer-to-peer, multi-user network like a group chat</li>
<li><strong>Read/write operations</strong> where you want to mimic a <a href="https://en.wikipedia.org/wiki/Fire-and-forget">fire-and-forget</a> style approach without worrying about holding a lock on the resource</li>
</ul>
<p>The biggest reason not to use async I/O is that <code>await</code> only supports a specific set of objects that define a particular set of methods. For example, if you want to do async read operations on a certain <a href="https://en.wikipedia.org/wiki/Database#Database_management_system">database management system (DBMS)</a>, then you&rsquo;ll need to find a Python wrapper for that DBMS that supports the <code>async</code> and <code>await</code> syntax.</p>
</section><section class="section3"><h3 id="libraries-supporting-async-io">Libraries Supporting Async I/O<a class="headerlink" href="#libraries-supporting-async-io" title="Permanent link"></a></h3>
<p>You&rsquo;ll find several high-quality third-party libraries and frameworks that support or are built on top of <code>asyncio</code> in Python, including tools for web servers, databases, networking, testing, and more. Here are some of the most notable:</p>
<ul>
<li><strong>Web frameworks:</strong><ul>
<li><a href="https://fastapi.tiangolo.com/">FastAPI</a>: Modern async web framework for building <a href="https://realpython.com/python-api/">web APIs</a>.</li>
<li><a href="https://www.starlette.io/">Starlette</a>: Lightweight <a href="https://en.wikipedia.org/wiki/Asynchronous_Server_Gateway_Interface">asynchronous server gateway interface (ASGI)</a> framework for building high-performance async web apps.</li>
<li><a href="https://sanic.dev/">Sanic</a>: Async web framework built for speed using <code>asyncio</code>.</li>
<li><a href="https://github.com/pallets/quart">Quart</a>: Async web microframework with the same API as <a href="https://realpython.com/flask-project/">Flask</a>.</li>
<li><a href="https://github.com/tornadoweb/tornado">Tornado</a>: Performant web framework and asynchronous networking library.</li>
</ul>
</li>
<li><strong>ASGI servers:</strong><ul>
<li><a href="https://www.uvicorn.org/">uvicorn</a>: Fast ASGI web server.</li>
<li><a href="https://pypi.org/project/Hypercorn/">Hypercorn</a>: ASGI server supporting several protocols and configuration options.</li>
</ul>
</li>
<li><strong>Networking tools:</strong><ul>
<li><a href="https://docs.aiohttp.org/">aiohttp</a>: HTTP client and server implementation using <code>asyncio</code>.</li>
<li><a href="https://www.python-httpx.org/">HTTPX</a>: Fully featured async and sync HTTP client.</li>
<li><a href="https://websockets.readthedocs.io/">websockets</a>: Library for building WebSocket servers and clients with <code>asyncio</code>.</li>
<li><a href="https://aiosmtplib.readthedocs.io/">aiosmtplib</a>: Async SMTP client for <a href="https://realpython.com/python-send-email/">sending emails</a>.</li>
</ul>
</li>
<li><strong>Database tools:</strong><ul>
<li><a href="https://www.encode.io/databases/">Databases</a>: Async database access layer compatible with <a href="https://realpython.com/python-sqlite-sqlalchemy/">SQLAlchemy</a> core.</li>
<li><a href="https://tortoise.github.io/">Tortoise ORM</a>: Lightweight async object-relational mapper (ORM).</li>
<li><a href="https://python-gino.org/">Gino</a>: Async ORM built on SQLAlchemy core for <a href="https://realpython.com/python-sql-libraries/#postgresql">PostgreSQL</a>.</li>
<li><a href="https://motor.readthedocs.io/">Motor</a>: Async <a href="https://realpython.com/introduction-to-mongodb-and-python/">MongoDB</a> driver built on <code>asyncio</code>.</li>
</ul>
</li>
<li><strong>Utility libraries:</strong><ul>
<li><a href="https://github.com/Tinche/aiofiles">aiofiles</a>: Wraps Python&rsquo;s file API for use with <code>async</code> and <code>await</code>.</li>
<li><a href="https://github.com/aio-libs/aiocache">aiocache</a>: Async caching library supporting <a href="https://realpython.com/python-redis/">Redis</a> and Memcached.</li>
<li><a href="https://github.com/agronholm/apscheduler">APScheduler</a>: A task scheduler with support for async jobs.</li>
<li><a href="https://pytest-asyncio.readthedocs.io/">pytest-asyncio</a>: Adds support for testing async functions using <a href="https://realpython.com/pytest-python-testing/">pytest</a>.</li>
</ul>
</li>
</ul>
<p>These libraries and frameworks help you write performant async Python applications. Whether you&rsquo;re building a web server, fetching data over the network, or accessing a database, <code>asyncio</code> tools like these give you the power to handle many tasks concurrently with minimal overhead.</p>
<div><div class="rounded border border-light" style="display:block;position:relative;"> <div style="display:block;width:100%;padding-top:12.5%;"></div> <div class="rpad rounded border" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"> </div></div><a class="small text-muted" href="/account/join/" rel="nofollow"> <span aria-hidden="true" class="icon baseline mr-1"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--circle-info"></use></svg></span>Remove ads</a></div></section></section><section class="section2"><h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link"></a></h2>
<p>You&rsquo;ve gained a solid understanding of Python&rsquo;s <code>asyncio</code> library and the <code>async</code> and <code>await</code> syntax, learning how asynchronous programming enables efficient management of multiple I/O-bound tasks within a single thread.</p>
<p>Along the way, you explored the differences between concurrency, parallelism, threading, multiprocessing, and asynchronous I/O. You also worked through practical examples using coroutines, event loops, chaining, and queue-based concurrency. On top of that, you learned about advanced <code>asyncio</code> features, including async context managers, async iterators, comprehensions, and how to leverage third-party async libraries.</p>
<p>Mastering <code>asyncio</code> is essential when building scalable network servers, web APIs, or applications that perform many simultaneous I/O-bound operations.</p>
<p><strong>In this tutorial, you&rsquo;ve learned how to:</strong></p>
<ul>
<li><strong>Distinguish</strong> between concurrency models and identify when to use <strong><code>asyncio</code></strong> for I/O-bound tasks</li>
<li><strong>Write</strong>, <strong>run</strong>, and <strong>chain coroutines</strong> using <code>async def</code> and <code>await</code></li>
<li><strong>Manage the event loop</strong> and schedule multiple tasks with <code>asyncio.run()</code>, <code>gather()</code>, and <code>create_task()</code></li>
<li>Implement async patterns like <strong>coroutine chaining</strong> and <strong>async queues</strong> for producer–consumer workflows</li>
<li><strong>Use advanced async features</strong> such as <code>async for</code> and <code>async with</code>, and integrate with <strong>third-party async libraries</strong></li>
</ul>
<p>With these skills, you&rsquo;re ready to build high-performance, modern Python applications that can handle many operations asynchronously.</p>
<div class="alert alert-warning" role="alert">
<p><strong markdown>Get Your Code:</strong> <a href="https://realpython.com/bonus/async-io-python-code/" class="alert-link" data-toggle="modal" data-target="#modal-async-io-python-code" markdown>Click here to download the free sample code</a> that you&rsquo;ll use to learn about async I/O in Python.</p>
</div>
</section><section class="section2"><h2 id="frequently-asked-questions">Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permanent link"></a></h2>
<p>Now that you have some experience with <code>asyncio</code> in Python, you can use the questions and answers below to check your understanding and recap what you&rsquo;ve learned.</p>
<p>These FAQs are related to the most important concepts you&rsquo;ve covered in this tutorial. Click the <em>Show/Hide</em> toggle beside each question to reveal the answer.</p>
<div class="card mb-3" id="collapse_cardba40b6">
<div class="card-header border-0">
<p class="m-0">
    <button class="btn w-100" data-toggle="collapse" data-target="#collapseba40b6" aria-expanded="false" aria-controls="collapseba40b6" markdown="1"><span class="float-left" markdown="1"><strong>What is <code>asyncio</code> in Python and why should you use it?</strong></span><span class="float-right text-muted">Show/Hide</span></button>
  </p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_cardba40b6" id="collapseba40b6">
<div class="card-body">
<p>You use <code>asyncio</code> to write concurrent code with the <code>async</code> and <code>await</code> keywords, allowing you to efficiently manage multiple I/O-bound tasks in a single thread without blocking your program.</p>
</div>
</div>
</div>
<div class="card mb-3" id="collapse_cardcc3f9f">
<div class="card-header border-0">
<p class="m-0">
    <button class="btn w-100" data-toggle="collapse" data-target="#collapsecc3f9f" aria-expanded="false" aria-controls="collapsecc3f9f" markdown="1"><span class="float-left" markdown="1"><strong>Is <code>asyncio</code> better than multithreading for I/O-bound tasks?</strong></span><span class="float-right text-muted">Show/Hide</span></button>
  </p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_cardcc3f9f" id="collapsecc3f9f">
<div class="card-body">
<p>You typically get better performance from <code>asyncio</code> for I/O-bound work because it avoids the overhead and complexity of threads. This allows thousands of tasks to run concurrently without the limitations of Python&rsquo;s GIL.</p>
</div>
</div>
</div>
<div class="card mb-3" id="collapse_card9bb124">
<div class="card-header border-0">
<p class="m-0">
    <button class="btn w-100" data-toggle="collapse" data-target="#collapse9bb124" aria-expanded="false" aria-controls="collapse9bb124" markdown="1"><span class="float-left" markdown="1"><strong>When should you use <code>asyncio</code> in your Python programs?</strong></span><span class="float-right text-muted">Show/Hide</span></button>
  </p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_card9bb124" id="collapse9bb124">
<div class="card-body">
<p>Use <code>asyncio</code> when your program spends a significant amount of time waiting on I/O-bound operations&mdash;such as network requests or file access&mdash;and you want to run many of these tasks concurrently and efficiently.</p>
</div>
</div>
</div>
<div class="card mb-3" id="collapse_card3f1862">
<div class="card-header border-0">
<p class="m-0">
    <button class="btn w-100" data-toggle="collapse" data-target="#collapse3f1862" aria-expanded="false" aria-controls="collapse3f1862" markdown="1"><span class="float-left" markdown="1"><strong>How do you define and run a coroutine with <code>asyncio</code>?</strong></span><span class="float-right text-muted">Show/Hide</span></button>
  </p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_card3f1862" id="collapse3f1862">
<div class="card-body">
<p>You define a coroutine using the <code>async def</code> syntax. To run it, either pass it to <code>asyncio.run()</code> or schedule it as a task with <code>asyncio.create_task()</code>.</p>
</div>
</div>
</div>
<div class="card mb-3" id="collapse_card411d84">
<div class="card-header border-0">
<p class="m-0">
    <button class="btn w-100" data-toggle="collapse" data-target="#collapse411d84" aria-expanded="false" aria-controls="collapse411d84" markdown="1"><span class="float-left" markdown="1"><strong>What role does the event loop play in <code>asyncio</code>?</strong></span><span class="float-right text-muted">Show/Hide</span></button>
  </p>
</div>
<div class="collapse js-collapsible-section" data-parent="#collapse_card411d84" id="collapse411d84">
<div class="card-body">
<p>You rely on the event loop to manage the scheduling and execution of your coroutines, giving each one a chance to run whenever it awaits or completes an I/O-bound operation.</p>
</div>
</div>
</div>
<div class="container border rounded text-wrap-pretty my-3">

  <p class="my-3"><mark class="marker-highlight"><strong><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@quiz"/></svg></span> Take the Quiz:</strong></mark> Test your knowledge with our interactive “Python&#x27;s asyncio: A Hands-On Walkthrough” quiz. You’ll receive a score upon completion to help you track your learning progress:</p>

  <hr>

  <div class="row my-3">
    <div class="col-xs-12 col-sm-4 col-md-3 align-self-center">

      <a href="/quizzes/async-io-python/" tabindex="-1">
        <div class="embed-responsive embed-responsive-16by9">

            <img class="card-img-top m-0 p-0 embed-responsive-item rounded" style="object-fit: contain; background: #ffc873;" alt="Async IO in Python: A Complete Walkthrough" src="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg" width="1920" height="1080" srcset="/cdn-cgi/image/width=480,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 480w, /cdn-cgi/image/width=640,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 640w, /cdn-cgi/image/width=960,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 960w, /cdn-cgi/image/width=1920,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 1920w" sizes="(min-width: 1200px) 142px, (min-width: 1000px) 122px, (min-width: 780px) 112px, (min-width: 580px) 139px, calc(100vw - 62px)">


          <div class="card-img-overlay d-flex align-items-center">
            <div class="mx-auto">
              <span class="text-light" style="opacity: 0.90;"><span class="icon baseline scale2x" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@quiz"/></svg></span></span>
            </div>
          </div>
        </div>
      </a>

    </div>
    <div class="col">
      <div class="mt-3 d-md-none"></div> 
      <p class="small text-muted mb-0"><strong>Interactive Quiz</strong></p>
      <a href="/quizzes/async-io-python/" class="stretched-link"><span class="my-0 h4">Python&#x27;s asyncio: A Hands-On Walkthrough</span></a> 
      <p class="text-muted mb-0 small">Test your knowledge of `asyncio` concurrency with this quiz that covers coroutines, event loops, and efficient I/O-bound task management.</p>
    </div>
  </div>

</div>

</section>

    
      
      <div class="d-flex justify-content-center flex-wrap gap-2 my-3">
        


<completion-status
  class="btn-group mb-0"
  article-slug="async-io-python"
  
  
  
  data-api-article-bookmark-url="/api/v1/articles/async-io-python/bookmark/"
  data-api-article-completion-status-url="/api/v1/articles/async-io-python/completion_status/">
  <button
    data-target-complete-button
    title="Click to mark as completed"
    class="btn btn-secondary border-right"
    style="border-top-right-radius: 0; border-bottom-right-radius: 0;"
    disabled>Mark as Completed</button>
  <button
    data-target-bookmark-button
    title="Add bookmark"
    class="btn btn-secondary border-left"
    disabled><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--bookmark"/></svg></span></button>
</completion-status>

        



<div class="btn-group mb-0">
  <a class="btn btn-secondary border-right" style="border-top-right-radius: 0; border-bottom-right-radius: 0;" title="Liked it" role="button" aria-label="Liked it (thumbs up)" href="/feedback/survey/article/async-io-python/liked/?from=article-footer" target="_blank"><span class="icon" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--thumbs-up"/></svg></span></a> 
  <a class="btn btn-secondary border-left" role="button" aria-label="Disliked it (thumbs down)" title="Disliked it" href="/feedback/survey/article/async-io-python/disliked/?from=article-footer" target="_blank"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--thumbs-down"/></svg></span></a>
</div>

        









<share-button
  url="https://realpython.com/async-io-python/"
  url-title="Python&#x27;s asyncio: A Hands-On Walkthrough"
  twitter-text="Interesting #Python article by @realpython:"
  bluesky-text="Interesting #Python article by @realpython.com:"
  email-subject="Python article for you"
  email-body="Check out this Python article:%0A%0APython&#x27;s asyncio: A Hands-On Walkthrough"
>
  <button class="btn btn-secondary" type="button" title="Share" aria-label="Share"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#@share-light"/></svg></span>Share</button>
</share-button>


      </div>
    

    
      
<div class="border rounded p-3 card mb-2 text-wrap-pretty">
  <p class="mb-0"><span class="badge badge-pill badge-success"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#v4--play-circle"/></svg></span> Watch Now</span> This tutorial has a related video course created by the Real Python team. Watch it together with the written tutorial to deepen your understanding: <a class="stretched-link text-success" href="/courses/python-3-concurrency-asyncio-module/"><strong>Hands-On Python 3 Concurrency With the asyncio Module</strong></a></p>
</div>

    
  </div>

  
    

<div class="card mt-4 mb-4 bg-secondary">
  <p class="card-header h3 text-center bg-light">🐍 Python Tricks 💌</p>
  <div class="card-body">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-sm-7">
          <p>Get a short &amp; sweet <strong>Python Trick</strong> delivered to your inbox every couple of days. No spam ever. Unsubscribe any time. Curated by the Real Python team.</p>
        </div>
        <div class="col-xs-12 col-sm-5">
          <img loading="lazy" class="img-fluid rounded mb-3" src="/static/pytrick-dict-merge.4201a0125a5e.png" width="738" height="490" alt="Python Tricks Dictionary Merge">
        </div>
      </div>
      <div class="row mb-3">
        <form class="col-12" action="/optins/process/" method="post">
          <input type="hidden" name="csrfmiddlewaretoken" value="kW7wHCJEyR5NXZS6qU8cmoBueoCOU351060mzt3XeGvuIBAVRnmhhgvlnWaulyyt">
          <input type="hidden" name="slug" value="static-python-tricks-footer">
          <div class="form-group">
            <input name="email" type="email" class="form-control form-control-lg" placeholder="Email Address" required>
          </div>
          <button name="submit" type="submit" class="btn btn-primary btn-block">Send Me Python Tricks »</button>
        </form>
      </div>
    </div>
  </div>
</div>


  

  



<div class="card mt-3" id="author">
  <p class="card-header h3">About <strong>Leodanis Pozo Ramos</strong></p>
  <div class="card-body">
    <div class="container p-0">
      <div class="row">
        <div class="col-12 col-md-3 align-self-center">
          <a href="/team/lpozoramos/" aria-hidden="true" tabindex="-1">
            <img loading="lazy" src="/cdn-cgi/image/width=862,height=862,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg" srcset="/cdn-cgi/image/width=215,height=215,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 215w, /cdn-cgi/image/width=287,height=287,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 287w, /cdn-cgi/image/width=431,height=431,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 431w, /cdn-cgi/image/width=862,height=862,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 862w" sizes="(min-width: 580px) 154px, calc(33.08vw - 24px)" width="862" height="862" style="background: #534032;" class="d-block d-md-none rounded-circle img-fluid w-33 mb-0 mx-auto" alt="Leodanis Pozo Ramos">
            <img loading="lazy" src="/cdn-cgi/image/width=862,height=862,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg" srcset="/cdn-cgi/image/width=215,height=215,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 215w, /cdn-cgi/image/width=287,height=287,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 287w, /cdn-cgi/image/width=431,height=431,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 431w, /cdn-cgi/image/width=862,height=862,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg 862w" sizes="(min-width: 1200px) 140px, calc(-1.5vw + 137px)" width="862" height="862" style="background: #534032;" class="d-none d-md-block rounded-circle img-fluid w-100 mb-0" alt="Leodanis Pozo Ramos">
          </a>
        </div>
        <div class="col mt-3">
          <p>Leodanis is a self-taught Python developer, educator, and technical writer with over 10 years of experience.</p>
          <a href="/team/lpozoramos/" class="card-link">» More about Leodanis</a>
        </div>
      </div>
    </div>
  </div>
  
  <hr class="my-0">
  <div class="card-body pb-0">
    <div class="container">
      <div class="row">
        <p><em>Each tutorial at Real Python is created by a team of developers so that it meets our high quality standards. The team members who worked on this tutorial are:</em></p>
      </div>

      
        
          <div class="row align-items-center w-100 mx-auto">
        

        <div class="col-4 col-sm-2 align-self-center">
          
            <a href="/team/asantos/" aria-hidden="true" tabindex="-1" data-previewable><img loading="lazy" src="/cdn-cgi/image/width=500,height=500,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Aldren_Santos_Real_Python.6b0861d8b841.png" srcset="/cdn-cgi/image/width=125,height=125,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Aldren_Santos_Real_Python.6b0861d8b841.png 125w, /cdn-cgi/image/width=166,height=166,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Aldren_Santos_Real_Python.6b0861d8b841.png 166w, /cdn-cgi/image/width=250,height=250,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Aldren_Santos_Real_Python.6b0861d8b841.png 250w, /cdn-cgi/image/width=500,height=500,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Aldren_Santos_Real_Python.6b0861d8b841.png 500w" sizes="(min-width: 1200px) 73px, (min-width: 780px) calc(-0.75vw + 69px), (min-width: 580px) 43px, calc(33.46vw - 64px)" width="500" height="500" style="background: #d2cec3;" class="rounded-circle img-fluid w-100" alt="Aldren Santos"></a>
          
        </div>
        <div class="col pl-0 d-none d-sm-block">
          <a href="/team/asantos/" class="card-link small" data-previewable><p>Aldren</p></a>
        </div>

        

        
      
        

        <div class="col-4 col-sm-2 align-self-center">
          
            <a href="/team/bsolomon/" aria-hidden="true" tabindex="-1" data-previewable><img loading="lazy" src="/cdn-cgi/image/width=1188,height=1188,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Screen_Shot_2021-09-28_at_3.13.21_PM.3310c56e90bd.jpg" srcset="/cdn-cgi/image/width=297,height=297,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Screen_Shot_2021-09-28_at_3.13.21_PM.3310c56e90bd.jpg 297w, /cdn-cgi/image/width=396,height=396,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Screen_Shot_2021-09-28_at_3.13.21_PM.3310c56e90bd.jpg 396w, /cdn-cgi/image/width=594,height=594,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Screen_Shot_2021-09-28_at_3.13.21_PM.3310c56e90bd.jpg 594w, /cdn-cgi/image/width=1188,height=1188,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Screen_Shot_2021-09-28_at_3.13.21_PM.3310c56e90bd.jpg 1188w" sizes="(min-width: 1200px) 73px, (min-width: 780px) calc(-0.75vw + 69px), (min-width: 580px) 43px, calc(33.46vw - 64px)" width="1188" height="1188" style="background: #485855;" class="rounded-circle img-fluid w-100" alt="Brad Solomon"></a>
          
        </div>
        <div class="col pl-0 d-none d-sm-block">
          <a href="/team/bsolomon/" class="card-link small" data-previewable><p>Brad</p></a>
        </div>

        

        
      
        

        <div class="col-4 col-sm-2 align-self-center">
          
            <a href="/team/bweleschuk/" aria-hidden="true" tabindex="-1" data-previewable><img loading="lazy" src="/cdn-cgi/image/width=320,height=320,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/IMG_3324_1.50b309355fc1.jpg" srcset="/cdn-cgi/image/width=80,height=80,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/IMG_3324_1.50b309355fc1.jpg 80w, /cdn-cgi/image/width=106,height=106,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/IMG_3324_1.50b309355fc1.jpg 106w, /cdn-cgi/image/width=160,height=160,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/IMG_3324_1.50b309355fc1.jpg 160w, /cdn-cgi/image/width=320,height=320,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/IMG_3324_1.50b309355fc1.jpg 320w" sizes="(min-width: 1200px) 73px, (min-width: 780px) calc(-0.75vw + 69px), (min-width: 580px) 43px, calc(33.46vw - 64px)" width="320" height="320" style="background: #d6d4ad;" class="rounded-circle img-fluid w-100" alt="Brenda Weleschuk"></a>
          
        </div>
        <div class="col pl-0 d-none d-sm-block">
          <a href="/team/bweleschuk/" class="card-link small" data-previewable><p>Brenda</p></a>
        </div>

        

        
          </div>
        
      
        
          <div class="row align-items-center w-100 mx-auto">
        

        <div class="col-4 col-sm-2 align-self-center">
          
            <a href="/team/bzaczynski/" aria-hidden="true" tabindex="-1" data-previewable><img loading="lazy" src="/cdn-cgi/image/width=1694,height=1694,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/coders_lab_2109368.259b1599fbee.jpg" srcset="/cdn-cgi/image/width=423,height=423,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/coders_lab_2109368.259b1599fbee.jpg 423w, /cdn-cgi/image/width=564,height=564,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/coders_lab_2109368.259b1599fbee.jpg 564w, /cdn-cgi/image/width=847,height=847,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/coders_lab_2109368.259b1599fbee.jpg 847w, /cdn-cgi/image/width=1694,height=1694,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/coders_lab_2109368.259b1599fbee.jpg 1694w" sizes="(min-width: 1200px) 73px, (min-width: 780px) calc(-0.75vw + 69px), (min-width: 580px) 43px, calc(33.46vw - 64px)" width="1694" height="1694" style="background: #dadada;" class="rounded-circle img-fluid w-100" alt="Bartosz Zaczyński"></a>
          
        </div>
        <div class="col pl-0 d-none d-sm-block">
          <a href="/team/bzaczynski/" class="card-link small" data-previewable><p>Bartosz</p></a>
        </div>

        

        
      
        

        <div class="col-4 col-sm-2 align-self-center">
          
            <a href="/team/damos/" aria-hidden="true" tabindex="-1" data-previewable><img loading="lazy" src="/cdn-cgi/image/width=400,height=400,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/me-small.f5f49f1c48e1.jpg" srcset="/cdn-cgi/image/width=100,height=100,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/me-small.f5f49f1c48e1.jpg 100w, /cdn-cgi/image/width=133,height=133,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/me-small.f5f49f1c48e1.jpg 133w, /cdn-cgi/image/width=200,height=200,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/me-small.f5f49f1c48e1.jpg 200w, /cdn-cgi/image/width=400,height=400,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/me-small.f5f49f1c48e1.jpg 400w" sizes="(min-width: 1200px) 73px, (min-width: 780px) calc(-0.75vw + 69px), (min-width: 580px) 43px, calc(33.46vw - 64px)" width="400" height="400" style="background: #7c7e7d;" class="rounded-circle img-fluid w-100" alt="David Amos"></a>
          
        </div>
        <div class="col pl-0 d-none d-sm-block">
          <a href="/team/damos/" class="card-link small" data-previewable><p>David</p></a>
        </div>

        

        
      
        

        <div class="col-4 col-sm-2 align-self-center">
          
            <a href="/team/jjablonski/" aria-hidden="true" tabindex="-1" data-previewable><img loading="lazy" src="/cdn-cgi/image/width=800,height=800,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg" srcset="/cdn-cgi/image/width=200,height=200,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg 200w, /cdn-cgi/image/width=266,height=266,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg 266w, /cdn-cgi/image/width=400,height=400,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg 400w, /cdn-cgi/image/width=800,height=800,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg 800w" sizes="(min-width: 1200px) 73px, (min-width: 780px) calc(-0.75vw + 69px), (min-width: 580px) 43px, calc(33.46vw - 64px)" width="800" height="800" style="background: #b8b9bb;" class="rounded-circle img-fluid w-100" alt="Joanna Jablonski"></a>
          
        </div>
        <div class="col pl-0 d-none d-sm-block">
          <a href="/team/jjablonski/" class="card-link small" data-previewable><p>Joanna</p></a>
        </div>

        

        
          </div>
        
      
    </div>
  </div>
  

</div>





  
    

<div class="bg-light rounded py-4 my-4 shadow shadow-sm mx-n2">
  
  <div class="col-12 text-center d-block d-md-none">
    <p class="h2 mb-3">Master <u><span class="marker-highlight">Real-World Python Skills</mark></u> With Unlimited Access to Real&nbsp;Python</p>
    <p class="mb-1"><img loading="lazy" class="w-75" src="/static/videos/lesson-locked.f5105cfd26db.svg" width="510" height="260" alt="Locked learning resources"></p>
    <p class="mx-auto w-75 mb-3 small"><strong>Join us and get access to thousands of tutorials, hands-on video courses, and a community of expert&nbsp;Pythonistas:</strong></p>
    <p class="mb-0"><a href="/account/join/?utm_source=rp_article_footer&utm_content=async-io-python" class="btn btn-primary px-4 mb-0">Level Up Your Python Skills »</a>
  </div>

  
  <div class="col-12 text-center d-none d-md-block">
    <p class="h2 mb-2">Master <u><span class="marker-highlight">Real-World Python Skills</span></u><br>With Unlimited Access to Real&nbsp;Python</p>
    <p class="mb-2"><img loading="lazy" class="w-50 mb-2" src="/static/videos/lesson-locked.f5105cfd26db.svg" width="510" height="260" alt="Locked learning resources"></p>
    <p class="mx-auto w-50 mb-3"><strong>Join us and get access to thousands of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
    <p><a href="/account/join/?utm_source=rp_article_footer&utm_content=async-io-python" class="btn btn-primary px-4">Level Up Your Python Skills »</a>
  </div>
</div>

  

  
  <div class="card mt-4" id="reader-comments">
    <p class="card-header h3">What Do You Think?</p>
    
    <div class="text-center mt-3 mb-0 p-0">
      <div class="mb-2">
        <strong class="mr-2">Rate this article:</strong>
        



<div class="btn-group mb-0">
  <a class="btn btn-secondary border-right" style="border-top-right-radius: 0; border-bottom-right-radius: 0;" title="Liked it" role="button" aria-label="Liked it (thumbs up)" href="/feedback/survey/article/async-io-python/liked/?from=article-comments" target="_blank"><span class="icon" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--thumbs-up"/></svg></span></a> 
  <a class="btn btn-secondary border-left" role="button" aria-label="Disliked it (thumbs down)" title="Disliked it" href="/feedback/survey/article/async-io-python/disliked/?from=article-comments" target="_blank"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#light--thumbs-down"/></svg></span></a>
</div>

      </div>
      



<div class="d-flex justify-content-center flex-wrap gap-2 my-3">
  
  
  <a target="_blank" rel="nofollow" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Frealpython.com%2Fasync-io-python%2F" class="btn btn-sm share-linkedin" aria-label="Share on LinkedIn"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--linkedin"/></svg></span>LinkedIn</a>
  
  
  <a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Interesting%20Python%20article%20on%20%40realpython%3A%20Python%27s%20asyncio%3A%20A%20Hands-On%20Walkthrough&url=https%3A%2F%2Frealpython.com%2Fasync-io-python%2F" class="btn btn-sm share-x-twitter" aria-label="Share on X/Twitter"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--x-twitter"/></svg></span>Twitter</a>
  
  
  <a target="_blank" rel="nofollow" href="https://bsky.app/intent/compose?text=Interesting%20Python%20article%20on%20%40realpython.com%3A%20Python%27s%20asyncio%3A%20A%20Hands-On%20Walkthrough%20https%3A%2F%2Frealpython.com%2Fasync-io-python%2F" class="btn btn-sm share-bluesky" aria-label="Share on Bluesky"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--bluesky"/></svg></span>Bluesky</a>
  
  
  <a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A%2F%2Frealpython.com%2Fasync-io-python%2F" class="btn btn-sm share-facebook" aria-label="Share on Facebook"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--facebook"/></svg></span>Facebook</a>
  
  
  <a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&body=Python%27s%20asyncio%3A%20A%20Hands-On%20Walkthrough%20on%20Real%20Python%0A%0Ahttps%3A%2F%2Frealpython.com%2Fasync-io-python%2F%0A" class="btn btn-sm share-email" aria-label="Share via Email"><span class="icon baseline mr-1" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--envelope"/></svg></span>Email</a>
  
  
</div>

    </div>
    
    <div class="card-body pt-0 text-wrap-pretty">
      <p>What’s your #1 takeaway or favorite thing you learned? How are you going to put your newfound skills to use? Leave a comment below and let us know.</p>

      <div class="alert alert-dark">
        <p class="mb-0"><strong>Commenting Tips:</strong> The most useful comments are those written with the goal of learning from or helping out other students. <a href="https://realpython.com/python-beginner-tips/#tip-9-ask-good-questions" target="_blank">Get tips for asking good questions</a> and <a href="https://support.realpython.com" target="_blank">get answers to common questions in our support portal</a>.<hr>Looking for a real-time conversation? Visit the <a href="/community/" target="_blank">Real Python Community Chat</a> or join the next <a href="/office-hours/" target="_blank">&ldquo;Office&nbsp;Hours&rdquo; Live Q&A Session</a>. Happy Pythoning!</p>

      </div>

      <div class="mb-4" id="disqus_thread">
      
      </div>
      
    </div>
  </div>

  <div class="card mt-4 mb-4">
    <p class="card-header h3">Keep Learning</p>
    <div class="card-body">

      <p class="mb-0">Related Topics:
      
        
<a href="/tutorials/advanced/" class="badge badge-light text-muted" data-previewable>advanced</a>

      
        
<a href="/tutorials/python/" class="badge badge-light text-muted" data-previewable>python</a>

      
      </p>

      
        <p class="mt-3 mb-0">Recommended Video Course: <a class="text-success" href="/courses/python-3-concurrency-asyncio-module/" data-previewable>Hands-On Python 3 Concurrency With the asyncio Module</a></p>
      

      
        <p class="mt-3 mb-0">Related Tutorials:</p>
        <ul class="mb-0">
          
            <li>
              <a href="/python-concurrency/?utm_source=realpython&amp;utm_medium=web&amp;utm_campaign=related-post&amp;utm_content=async-io-python" data-previewable>Speed Up Your Python Program With Concurrency</a>
            </li>
          
            <li>
              <a href="/python-mixin/?utm_source=realpython&amp;utm_medium=web&amp;utm_campaign=related-post&amp;utm_content=async-io-python" data-previewable>What Are Mixin Classes in Python?</a>
            </li>
          
            <li>
              <a href="/python-with-statement/?utm_source=realpython&amp;utm_medium=web&amp;utm_campaign=related-post&amp;utm_content=async-io-python" data-previewable>Python&#x27;s with Statement: Manage External Resources Safely</a>
            </li>
          
            <li>
              <a href="/python-gil/?utm_source=realpython&amp;utm_medium=web&amp;utm_campaign=related-post&amp;utm_content=async-io-python" data-previewable>What Is the Python Global Interpreter Lock (GIL)?</a>
            </li>
          
            <li>
              <a href="/primer-on-python-decorators/?utm_source=realpython&amp;utm_medium=web&amp;utm_campaign=related-post&amp;utm_content=async-io-python" data-previewable>Primer on Python Decorators</a>
            </li>
          
        </ul>
      

    </div>
  </div>

  
    

<div class="modal fade" tabindex="-1" role="dialog" id="rprw">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">

      <div class="modal-header border-0">
        <div class="col-12 col-lg-9 mx-auto modal-title text-center my-2">
          <h2 class="my-0">Keep reading Real&nbsp;Python by creating a free account or signing&nbsp;in:</h2>
        </div>
      </div>

      
      <div class="modal-body bg-light">
        <div class="col-12 text-center">

          <div class="col-12 col-lg-8 mx-auto mb-2 mt-3">
            <a href="/account/signup/?intent=continue_reading&utm_source=rp&utm_medium=web&utm_campaign=rwn&utm_content=v1&next=%2Fasync-io-python%2F"><img loading="lazy" class="w-100" src="/static/videos/lesson-locked.f5105cfd26db.svg"  width="510" height="260" alt="Keep reading"></a>
          </div>

          <p><a href="/account/signup/?intent=continue_reading&utm_source=rp&utm_medium=web&utm_campaign=rwn&utm_content=v1&next=%2Fasync-io-python%2F" class="btn btn-primary px-5"></i>Continue »</a></p>

        </div>
      </div>
      

      <div class="modal-footer border-0">
        <p class="text-center text-muted mt-2 mb-1">Already have an account? <a href="/account/login/?next=/async-io-python/">Sign-In</a></p>
      </div>

    </div>
  </div>
</div>

    <script src="/static/frontend/reader/rw.df14871d6a0e.js" async></script>
  


    </div>

  </div>

    </div>

    
    

    
    
      
        
          <div class="modal fade" id="modal-async-io-python-code" tabindex="-1" aria-labelledby="modal-async-io-python-code-title" aria-describedby="modal-async-io-python-code-desc">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">

      <div class="modal-header bg-light pt-3 pb-2">
        <div class="container-fluid">
          <div class="row">
            <div class="col-12">
              <div class="progress" style="height: .5rem;" aria-hidden="true">
                <div class="progress-bar progress-bar-striped progress-bar-animated w-75" role="progressbar"></div>
              </div>
            </div>
            <div class="col-12">
              <p id="modal-async-io-python-code-desc" class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant&nbsp;access:</p>
            </div>
          </div>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body m-4">
        <div class="container-fluid">
          <div class="row align-items-center text-center">
            <div class="col-12 col-lg-4 mb-4 mb-lg-0">
              
              
                <img loading="lazy" class="img-fluid rounded" src="https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg" width="1920" height="1080" srcset="/cdn-cgi/image/width=480,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 480w, /cdn-cgi/image/width=640,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 640w, /cdn-cgi/image/width=960,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 960w, /cdn-cgi/image/width=1920,format=auto/https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg 1920w" sizes="(min-width: 1000px) 207px, (min-width: 580px) 382px, calc(100vw - 134px)" alt="Async IO in Python: A Complete Walkthrough">
              
            </div>
            <div class="col">
              <p id="modal-async-io-python-code-title" class="text-center h3 mb-4">Async I/O in Python: A Complete Walkthrough (Sample Code)</p>

              <form class="col-12" action="/optins/process/" method="post">
                <input type="hidden" name="csrfmiddlewaretoken" value="kW7wHCJEyR5NXZS6qU8cmoBueoCOU351060mzt3XeGvuIBAVRnmhhgvlnWaulyyt">
                <input type="hidden" name="slug" value="async-io-python-code">
                <input type="hidden" name="source_path" value="/async-io-python/"> 
                <div class="form-group">
                  <input type="email" name="email" class="form-control" placeholder="Email Address" required autofocus>
                </div>
                <button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Send Code »</button>
                <p class="mb-0 mt-2 text-muted text-center"><small>🔒 No spam. We take your privacy seriously.</small></p>
              </form>

            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

        
      
    

    
      

<footer class="footer pb-4">
  <div class="mx-5">

    <div class="row justify-content-lg-center">

      <div class="mx-4 mt-5">
        <h5>Learn Python</h5>
        <ul class="list-unstyled mb-0">
          <li><a href="/start-here/">Start Here</a></li>
          <li><a href="/search">Learning Resources</a></li>
          <li><a href="/mentor/">Code Mentor</a></li>
          <li><a href="/ref/">Python Reference</a></li>
          <li><a href="/cheatsheets/python/">Python Cheat Sheet</a></li>
          <li><a href="https://support.realpython.com/">Support Center</a></li>
        </ul>
      </div>

      <div class="mx-4 mt-5">
        <h5>Courses &amp; Paths</h5>
        <ul class="list-unstyled mb-0">
          <li><a href="/learning-paths/">Learning Paths</a></li>
          <li><a href="/quizzes/">Quizzes &amp; Exercises</a></li>
          <li><a href="/tutorials/all/">Browse Topics</a></li>
          <li><a href="/workshops/">Workshops</a></li>
          <li><a href="/books/">Books</a></li>
        </ul>
      </div>

      <div class="mx-4 mt-5">
        <h5>Community</h5>
        <ul class="list-unstyled mb-0">
          <li><a href="/podcasts/rpp/">Podcast</a></li>
          <li><a href="/newsletter/">Newsletter</a></li>
          <li><a href="/community/">Community Chat</a></li>
          <li><a href="/office-hours/">Office Hours</a></li>
          <li><a href="/learner-stories/">Learner Stories</a></li>
        </ul>
      </div>

      <div class="mx-4 mt-5">
        <h5>Membership</h5>
        <ul class="list-unstyled mb-0">
          
            <li><a href="/account/join/">Plans &amp; Pricing</a></li>
          
          <li><a href="/account/join-team/">Team Plans</a></li>
          <li><a href="/account/join-team/inquiry/">For Business</a></li>
          <li><a href="/account/join-team/education-inquiry/">For Schools</a></li>
          <li><a href="/learner-stories/">Reviews</a></li>
        </ul>
      </div>

      <div class="mx-4 mt-5">
        <h5>Company</h5>
        <ul class="list-unstyled mb-0">
          <li><a href="/about/">About Us</a></li>
          <li><a href="/team/">Team</a></li>
          <li><a href="/mission/">Mission &amp; Values</a></li>
          
          <li><a href="/sponsorships/">Sponsorships</a></li>
          <li><a href="https://realpython.workable.com">Careers</a></li>
          <li><a href="/media-kit/">Press Kit</a></li>
          <li><a href="/merch">Merch</a></li>
        </ul>
      </div>

    </div>

    <div class="flex-column flex-lg-row justify-content-center align-items-center mt-5 row ">

      <div class="d-flex justify-content-center mx-4 text-muted flex-nowrap">
        <a class="highlight-icon-hover-dark px-2 ml-n2" title="YouTube" href="https://www.youtube.com/realpython"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--youtube"/></svg></span></a>
        <a class="highlight-icon-hover-dark px-2" title="X/Twitter" href="https://x.com/realpython"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--x-twitter"/></svg></span></a>
        <a class="highlight-icon-hover-dark px-2" title="LinkedIn" href="https://www.linkedin.com/company/realpython-com"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--linkedin"/></svg></span></a>
        <a class="highlight-icon-hover-dark px-2" title="Facebook" href="https://www.facebook.com/LearnRealPython"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--facebook"/></svg></span></a>
        <a class="highlight-icon-hover-dark px-2 mr-n2" title="GitHub" href="https://github.com/realpython/"><span class="icon baseline" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#brands--github"/></svg></span></a>
      </div>

      <div class="mx-4 small text-muted text-center text-wrap-balance">
        <a href="/privacy-policy/">Privacy Policy</a>&nbsp;⋅
        <a href="/terms/">Terms of Use</a>&nbsp;⋅
        
        <a href="/security/">Security</a>&nbsp;⋅
        
        <a href="/contact/">Contact</a>
      </div>

      <div class="mx-4 small text-muted user-select-none text-center">
        <span><span class="icon baseline text-color-red" aria-hidden="true"><svg aria-hidden="true"><use href="/static/icons.c6ded8df2bdc.svg#solid--heart"/></svg></span> Happy Pythoning!</span>
      </div>

    </div>

    <div class="d-flex justify-content-center small mt-4">
      <div class="text-muted text-center text-wrap-balance" style="line-height: 1.25;">
        <small>
          © 2012–2025 DevCademy Media Inc. DBA Real&nbsp;Python. All rights reserved.<br>
          REALPYTHON™ is a trademark of DevCademy&nbsp;Media&nbsp;Inc.
        </small>
        <a href="/" class="d-flex justify-content-center mt-3 mx-auto w-50">
          <img loading="lazy" src="/static/real-python-logo-primary.973743b6d39d.svg" class="img-fluid flex-grow-1" width="120" height="47" alt="Real Python - Online Python Training (logo)">
        </a>
      </div>
    </div>

  </div>
</footer>

    

    

    
    <script>
      (function() {
        var isAndroid = navigator.userAgent.toLowerCase().indexOf("android") > -1;
        if (!isAndroid) {
          return;
        }

        var styles = `
        @font-face {
          font-family: 'DejaVu Sans Mono';
          font-weight: normal;
          font-style: normal;
          font-display: swap;
          src: url('/static/mfonts/dejavu-sans-mono.33f00225f915.woff2') format('woff2'),
               url('/static/mfonts/dejavu-sans-mono.0da77d3739f3.woff') format('woff'),
               url('/static/mfonts/dejavu-sans-mono.c2356fc49835.ttf') format('truetype');
        }
        code, kbd, pre, samp {
          font-family: 'DejaVu Sans Mono', monospace;
        }
        `

        var styleSheet = document.createElement("style")
        styleSheet.type = "text/css"
        styleSheet.innerText = styles
        document.head.appendChild(styleSheet)
      })();
    </script>

    
    
    <script src="/static/jquery.min.2c872dbe60f4.js"></script>
    <script src="/static/popper.min.aeebb49d0b64.js"></script>
    <script src="/static/bootstrap.min.248284cdd069.js"></script>

    
    


    <script>
    (function() {
      document.querySelectorAll(".js-search-form-submit").forEach(function(el) {
        el.addEventListener("click", function(e) {
          e.preventDefault();
          e.currentTarget.parentElement.submit();
        })
      });
    })();
    </script>
    <script src="/static/frontend/reader/lightbox.a95e81dd0042.js" async></script>
    <script src="/static/frontend/reader/platforms-ui.a6145c7bda94.js" async></script>
    

    <script src="/static/frontend/previews/popover.60847ed370e6.js" async></script>

    
      
      
        


<exit-prompt>
  <template>
    <div class="card bg-secondary">
      <div class="card-header h3 text-center bg-light">
        Free Bonus: <strong>Python Cheat Sheet</strong>
        <button type="button" class="float-right border-0 bg-transparent text-muted" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="card-body">
        <p class="mb-0">Get a <strong>Python Cheat Sheet (PDF)</strong> and learn the basics of Python, like working with data types, dictionaries, lists, and Python functions:</p>
        <img class="img-fluid mb-3 w-100 px-3" src="/static/cheatsheet-stacked-sm.c9ac81c58bcc.png" alt="Python Cheat Sheet" width="400" height="257">
        <div class="row">
            <form class="col-12" action="/optins/process/" method="post">
              <input type="hidden" name="slug" value="static-cheat-sheet">
              <div class="form-group">
                <input name="email" type="email" class="form-control form-control-lg" placeholder="Email Address" autocomplete="email" required autofocus>
              </div>
              <button name="submit" type="submit" class="btn btn-primary btn-lg btn-block">Send My Python Cheat&nbsp;Sheet »</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </template>
</exit-prompt>




      
    

    <script src="/static/frontend/components/exit-prompt.4d071780b0a2.js" defer></script>
<script src="/static/frontend/components/code-block.bf646b52ec8b.js" defer></script>
<script src="/static/frontend/blog/components/table-of-contents.f7180fbf0456.js" defer></script>
<script src="/static/frontend/blog/components/completion-status.15d2a762007b.js" defer></script>
<script src="/static/frontend/components/share-button.b8a79b5e5458.js" defer></script>



    

    
    

    

    
    

    
    

<script>window.rp_prop_id = '58946116052';</script>
<script src="https://srv.realpython.net/tag.js" async></script>



<script id="js-context" type="application/json">{"is_completed": false, "is_bookmarked": false, "api_article_bookmark_url": "/api/v1/articles/async-io-python/bookmark/", "api_article_completion_status_url": "/api/v1/articles/async-io-python/completion_status/"}</script>






  
    <script id="dsq-count-scr" src="https://realpython.disqus.com/count.js" async></script>
    <script>
      var disqus_config = function () {
        this.page.url = 'https://realpython.com/async-io-python/';
        this.page.identifier = 'https://realpython.com/async-io-python/';
        this.callbacks.onReady = [function() {
          if (window.onDisqusReady) {
            window.onDisqusReady();
          }
        }];
      };
      var disqus_script_url = 'https://realpython.disqus.com/embed.js';
    </script>
    <script src="/static/frontend/reader/lazy-disqus.e7f746070970.js" defer></script>
  


  
  
  
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(function(OneSignal) {
      OneSignal.init({
        appId: "c0081e20-a523-42bb-b0ac-04c5a9e8bf40",
        safari_web_id: "web.onesignal.auto.337e82fd-eeda-48f8-8fe5-d2f6dec774c2",
        notifyButton: {
          enable: true,
          position: "bottom-left",
          showCredit: false,
          text: {
            "tip.state.unsubscribed": "Receive a notification when we post a new tutorial",
            "tip.state.subscribed": "You're subscribed to new tutorial notifications",
            'tip.state.blocked': "You've blocked notifications",
            'message.prenotify': 'Click to subscribe to notifications',
            "message.action.subscribed": "Great, we'll let you know when the next tutorial comes out!",
            'message.action.resubscribed': "You're subscribed to notifications",
            'message.action.unsubscribed': "You won't receive notifications again",
            'dialog.main.title': 'Manage Site Notifications',
            'dialog.main.button.subscribe': 'SUBSCRIBE',
            'dialog.main.button.unsubscribe': 'UNSUBSCRIBE',
            'dialog.blocked.title': 'Unblock Notifications',
            'dialog.blocked.message': "Follow these instructions to allow notifications:"
          },
          
        },
      });
    });
    setTimeout(()=>{const n=document.createElement("script");n.src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js";n.async=!0;document.head.appendChild(n)}, 3000);
  </script>
  

  
    <script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "Article",
  "headline": "Python's asyncio: A Hands-On Walkthrough",
  "image": {
    "@type": "ImageObject",
    "url": "https://files.realpython.com/media/A-Complete-Walkthrough-of-Pythons-Asyncio_Watermarked.5b6b9a01fdc9.jpg",
    "width": 1920,
    "height": 1080
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://realpython.com/async-io-python/",
    "lastReviewed": "2025-07-30",
    "author": {
      "@type": "Person",
      "name": "Leodanis Pozo Ramos",
      "image": "https://realpython.com/cdn-cgi/image/width=862,height=862,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg",
      "url": "https://realpython.com/team/lpozoramos/",
      "affiliation": {
        "@type": "Organization",
        "@id": "https://realpython.com/#organization",
        "name": "Real Python",
        "url": "https://realpython.com",
        "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
      }
    },
    "reviewedBy": [
      {
        "@type": "Person",
        "name": "Aldren Santos",
        "image": "https://realpython.com/cdn-cgi/image/width=500,height=500,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Aldren_Santos_Real_Python.6b0861d8b841.png",
        "url": "https://realpython.com/team/asantos/",
        "affiliation": {
          "@type": "Organization",
          "@id": "https://realpython.com/#organization",
          "name": "Real Python",
          "url": "https://realpython.com",
          "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
        }
      },
      {
        "@type": "Person",
        "name": "Brad Solomon",
        "image": "https://realpython.com/cdn-cgi/image/width=1188,height=1188,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Screen_Shot_2021-09-28_at_3.13.21_PM.3310c56e90bd.jpg",
        "url": "https://realpython.com/team/bsolomon/",
        "affiliation": {
          "@type": "Organization",
          "@id": "https://realpython.com/#organization",
          "name": "Real Python",
          "url": "https://realpython.com",
          "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
        }
      },
      {
        "@type": "Person",
        "name": "Brenda Weleschuk",
        "image": "https://realpython.com/cdn-cgi/image/width=320,height=320,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/IMG_3324_1.50b309355fc1.jpg",
        "url": "https://realpython.com/team/bweleschuk/",
        "affiliation": {
          "@type": "Organization",
          "@id": "https://realpython.com/#organization",
          "name": "Real Python",
          "url": "https://realpython.com",
          "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
        }
      },
      {
        "@type": "Person",
        "name": "Bartosz Zaczy\u0144ski",
        "image": "https://realpython.com/cdn-cgi/image/width=1694,height=1694,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/coders_lab_2109368.259b1599fbee.jpg",
        "url": "https://realpython.com/team/bzaczynski/",
        "affiliation": {
          "@type": "Organization",
          "@id": "https://realpython.com/#organization",
          "name": "Real Python",
          "url": "https://realpython.com",
          "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
        }
      },
      {
        "@type": "Person",
        "name": "David Amos",
        "image": "https://realpython.com/cdn-cgi/image/width=400,height=400,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/me-small.f5f49f1c48e1.jpg",
        "url": "https://realpython.com/team/damos/",
        "affiliation": {
          "@type": "Organization",
          "@id": "https://realpython.com/#organization",
          "name": "Real Python",
          "url": "https://realpython.com",
          "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
        }
      },
      {
        "@type": "Person",
        "name": "Joanna Jablonski",
        "image": "https://realpython.com/cdn-cgi/image/width=800,height=800,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg",
        "url": "https://realpython.com/team/jjablonski/",
        "affiliation": {
          "@type": "Organization",
          "@id": "https://realpython.com/#organization",
          "name": "Real Python",
          "url": "https://realpython.com",
          "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
        }
      }
    ]
  },
  "datePublished": "2025-07-30T14:00:00+00:00",
  "dateModified": "2025-07-30T14:09:24.594550+00:00",
  "publisher": {
    "@type": "Organization",
    "@id": "https://realpython.com/#organization",
    "name": "Real Python",
    "url": "https://realpython.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png",
      "width": 512,
      "height": 512
    },
    "description": "Real Python is a leading provider of online Python education and one of the largest language-specific online communities for software developers. It publishes high-quality learning resources, such as tutorials, books, and courses to an audience of millions of developers, data scientists, and machine learning engineers each month.",
    "slogan": "Become a Python Expert",
    "email": "info@realpython.com",
    "sameAs": [
      "https://github.com/realpython",
      "https://www.youtube.com/realpython",
      "https://twitter.com/realpython",
      "https://x.com/realpython",
      "https://www.linkedin.com/company/realpython-com/",
      "https://www.facebook.com/learnrealpython",
      "https://www.instagram.com/realpython",
      "https://www.tiktok.com/@realpython.com"
    ]
  },
  "author": {
    "@type": "Person",
    "name": "Leodanis Pozo Ramos",
    "image": "https://realpython.com/cdn-cgi/image/width=862,height=862,fit=crop,gravity=auto,format=auto/https://files.realpython.com/media/Perfil_final1.9f896bc212f6.jpg",
    "url": "https://realpython.com/team/lpozoramos/",
    "affiliation": {
      "@type": "Organization",
      "@id": "https://realpython.com/#organization",
      "name": "Real Python",
      "url": "https://realpython.com",
      "logo": "https://realpython.com/static/real-python-logo-square-512.157ae6bf64ed.png"
    }
  },
  "description": "Explore how Python asyncio works and when to use it. Follow hands-on examples to build efficient programs with coroutines and awaitable tasks."
}</script>
  


    <script src="/static/frontend/optins/optins.ae0e16b1d344.js" async></script>
    <script src="/static/frontend/search/autocomplete.0576386a3d57.js" async></script>

    

    

    
    

    

    
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  setTimeout(function(){s.parentNode.insertBefore(t,s)}, 3000);}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '2220911568135371');
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=2220911568135371&ev=PageView&noscript=1"
/></noscript>


    

    

    


  
  <div id="g_id_onload"
    data-client_id="912944204353-gv43om9f7qmj4eprm0esc45r12etunvp.apps.googleusercontent.com"
    data-login_uri="https://realpython.com/account/google/login/token/?next=/async-io-python/"
    data-itp_support="false">
  </div>
  <script src="//accounts.google.com/gsi/client" async></script>


  <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98f9cc7d896ecd4a',t:'MTc2MDY0MTIyMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
