/**
 * Middleware Service for handling Express middleware operations
 */
export class MiddlewareService {
  constructor() {
    this.middlewares = new Map();
  }

  registerMiddleware(name, middleware) {
    if (typeof middleware !== 'function') {
      throw new Error('Middleware must be a function');
    }
    this.middlewares.set(name, middleware);
  }

  getMiddleware(name) {
    if (!this.middlewares.has(name)) {
      throw new Error(`Middleware '${name}' not found`);
    }
    return this.middlewares.get(name);
  }

  applyMiddleware(app, name) {
    const middleware = this.getMiddleware(name);
    app.use(middleware);
  }
}
