/**
 * Manages conversation state and history
 */
export class ConversationStateManager {
  constructor() {
    this.conversations = new Map();
  }

  createConversation(conversationId) {
    this.conversations.set(conversationId, {
      messages: [],
      metadata: {},
      createdAt: new Date()
    });
  }

  addMessage(conversationId, message) {
    const conversation = this.conversations.get(conversationId);
    if (!conversation) {
      throw new Error('Conversation not found');
    }
    conversation.messages.push({
      ...message,
      timestamp: new Date()
    });
  }

  getConversationHistory(conversationId) {
    return this.conversations.get(conversationId)?.messages || [];
  }
}
