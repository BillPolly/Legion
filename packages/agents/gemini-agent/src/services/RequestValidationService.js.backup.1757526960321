/**
 * Service for validating incoming requests
 */
export class RequestValidationService {
  constructor() {
    this.schemas = new Map();
  }

  registerSchema(path, schema) {
    this.schemas.set(path, schema);
  }

  validateRequest(path, data) {
    const schema = this.schemas.get(path);
    if (!schema) {
      throw new Error(`No schema found for path: ${path}`);
    }

    try {
      return schema.validate(data);
    } catch (error) {
      throw new Error(`Validation failed: ${error.message}`);
    }
  }
}
